<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¨×›×– ×”×‘×§×¨×” ×©×œ ×”×—×™×™× ×©×œ×š âœ¨</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800;900&family=Heebo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Heebo', 'Nunito', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        * { font-family: 'Heebo', 'Nunito', sans-serif; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
        }
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce-in {
            0% { transform: scale(0); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }
        
        .animate-float { animation: float 4s ease-in-out infinite; }
        .animate-shimmer {
            background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }
        .animate-slide-in-up { animation: slideInUp 0.5s ease-out forwards; }
        .animate-bounce-in { animation: bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        
        .card {
            background: #ffffff;
            border-radius: 1.25rem;
            border: 1px solid rgba(0,0,0,0.04);
            box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 4px 20px rgba(0,0,0,0.03);
            transition: all 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.06), 0 8px 30px rgba(0,0,0,0.05);
            transform: translateY(-2px);
        }
        
        .soft-bg {
            background: linear-gradient(135deg, #fafbff 0%, #f0f4ff 30%, #fdf2f8 60%, #faf5ff 100%);
        }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .gradient-text {
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .pill {
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
            padding: 0.2rem 0.65rem;
            border-radius: 9999px;
            font-size: 0.65rem;
            font-weight: 700;
        }
    </style>
</head>
<body class="soft-bg">
    <div id="root"></div>

    <script type="text/babel">
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDT8--XTz8pTKPGcU0IRsbfqIKBIIZsN_M",
            authDomain: "my-dashboard-61c28.firebaseapp.com",
            projectId: "my-dashboard-61c28",
            storageBucket: "my-dashboard-61c28.firebasestorage.app",
            messagingSenderId: "393110790524",
            appId: "1:393110790524:web:59160ee8fad58711ba44f9",
            measurementId: "G-5X52PDWD4J"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        
        const Icon = ({ name, size = 24, className = "", ...props }) => {
            useEffect(() => { lucide.createIcons(); }, []);
            return React.createElement('i', { 'data-lucide': name, className, style: { width: size, height: size }, ...props });
        };

        // Login Component
        const LoginScreen = ({ onLogin }) => {
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');

            const signInWithGoogle = async () => {
                setLoading(true);
                setError('');
                try {
                    const provider = new firebase.auth.GoogleAuthProvider();
                    await auth.signInWithPopup(provider);
                } catch (err) {
                    setError('×©×’×™××” ×‘×”×ª×—×‘×¨×•×ª. × ×¡×™ ×©×•×‘.');
                    console.error(err);
                }
                setLoading(false);
            };

            return (
                <div className="min-h-screen soft-bg flex items-center justify-center p-4">
                    <div className="card max-w-md w-full p-8 text-center animate-slide-in-up">
                        <div className="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center">
                            <span className="text-3xl">âœ¨</span>
                        </div>
                        <h1 className="text-3xl font-extrabold mb-2 bg-gradient-to-r from-violet-600 via-pink-500 to-amber-500 gradient-text">
                            ××¨×›×– ×”×‘×§×¨×” ×©×œ ×”×—×™×™× ×©×œ×š
                        </h1>
                        <p className="text-slate-500 mb-8">×”×ª×—×‘×¨×™ ×›×“×™ ×œ×”×ª×—×™×œ ×œ×¢×‘×•×“ ×¢×œ ×”×™×¢×“×™× ×©×œ×š</p>
                        
                        {error && (
                            <div className="mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm">
                                {error}
                            </div>
                        )}
                        
                        <button
                            onClick={signInWithGoogle}
                            disabled={loading}
                            className="w-full px-6 py-3.5 bg-white border-2 border-slate-200 hover:border-violet-400 rounded-xl font-bold text-slate-700 transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md disabled:opacity-50"
                        >
                            {loading ? (
                                <span>××ª×—×‘×¨...</span>
                            ) : (
                                <>
                                    <svg className="w-5 h-5" viewBox="0 0 24 24">
                                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                    </svg>
                                    <span>×”×ª×—×‘×¨×•×ª ×¢× Google</span>
                                </>
                            )}
                        </button>
                        
                        <p className="mt-6 text-xs text-slate-400">
                            ğŸ”’ ×”× ×ª×•× ×™× ×©×œ×š ×××•×‘×˜×—×™× ×•×¤×¨×˜×™×™× ×œ×—×œ×•×˜×™×Ÿ
                        </p>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [activeTab, setActiveTab] = useState('home');
            const [showConfetti, setShowConfetti] = useState(false);
            const [saveNotification, setSaveNotification] = useState(false);
            
            // Check authentication state
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((user) => {
                    setUser(user);
                    setLoading(false);
                });
                return () => unsubscribe();
            }, []);
            
            // Show loading screen
            if (loading) {
                return (
                    <div className="min-h-screen soft-bg flex items-center justify-center">
                        <div className="text-center">
                            <div className="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-violet-500 to-pink-500 animate-pulse"></div>
                            <p className="text-slate-500 font-medium">×˜×•×¢×Ÿ...</p>
                        </div>
                    </div>
                );
            }
            
            // Show login screen if not authenticated
            if (!user) {
                return <LoginScreen />;
            }
            
            // Dynamic tabs
            const [tabs, setTabs] = useState([
                { id: 'home', name: '×“×£ ×”×‘×™×ª', icon: 'home', color: 'violet' },
                { id: 'tasks', name: '××©×™××•×ª ×•×¤×¨×•×™×§×˜×™×', icon: 'list-todo', color: 'blue' },
                { id: 'schedule', name: '×œ×•×— ×–×× ×™× ×™×•××™', icon: 'calendar-clock', color: 'amber' },
                { id: 'metrics', name: '××“×“×™ ×”×¦×œ×—×”', icon: 'trending-up', color: 'emerald' },
                { id: 'goals', name: '×™×¢×“×™× ×œ×¤×™ ×ª×—×•××™×', icon: 'target', color: 'purple' },
                { id: 'gantt', name: '×œ×•×— ×©× ×”', icon: 'calendar', color: 'cyan' },
                { id: 'future-self', name: '×× ×™ ×”×¢×ª×™×“×™×ª', icon: 'sparkles', color: 'rose' },
                { id: 'mindset', name: 'Mindset', icon: 'brain', color: 'purple' },
                { id: 'ideas', name: '×¨×¢×™×•× ×•×ª', icon: 'lightbulb', color: 'yellow' },
                { id: 'resources', name: '××©××‘×™×', icon: 'link', color: 'indigo' },
                { id: 'archive', name: '××¨×›×™×•×Ÿ', icon: 'archive', color: 'slate' }
            ]);
            const [newTabName, setNewTabName] = useState('');
            const [newTabIcon, setNewTabIcon] = useState('star');
            const [newTabColor, setNewTabColor] = useState('violet');
            const [editingTab, setEditingTab] = useState(null);
            
            // Dynamic home widgets
            const [homeWidgets, setHomeWidgets] = useState([
                { id: 'w1', type: 'goals', title: '×™×¢×“×™× ×œ×©× ×ª 2026', emoji: 'ğŸ†', color: 'slate', size: 'full', order: 0 },
                { id: 'w2', type: 'morning-ritual', title: '×˜×§×¡ ×‘×•×§×¨', emoji: 'â˜€ï¸', color: 'amber', bgGradient: 'from-amber-600 to-orange-500', size: 'half', order: 1 },
                { id: 'w3', type: 'game-changers', title: 'GAME CHANGERS', emoji: 'âš¡', color: 'violet', bgGradient: 'from-violet-600 to-pink-500', size: 'half', order: 2 }
            ]);
            const [editingWidget, setEditingWidget] = useState(null);
            const [draggedWidget, setDraggedWidget] = useState(null);
            
            // Search
            const [searchQuery, setSearchQuery] = useState('');
            const [searchResults, setSearchResults] = useState([]);
            
            // Domains
            const [domains, setDomains] = useState([
                { id: 'd1', value: 'general', emoji: 'ğŸŒ', label: '×›×œ×œ×™' },
                { id: 'd2', value: 'project-graduation', emoji: 'ğŸ“', label: '×¤×¨×•×™×§×˜ ×’××¨' },
                { id: 'd3', value: 'book-publishing', emoji: 'ğŸ“š', label: '×”×•×¦××ª ×¡×¤×¨ ×œ××•×¨' },
                { id: 'd4', value: 'writing', emoji: 'âœï¸', label: '×›×ª×™×‘×”' },
                { id: 'd5', value: 'community', emoji: 'ğŸ“±', label: '×™×¦×™×¨×ª ×§×”×™×œ×”' },
                { id: 'd6', value: 'finance', emoji: 'ğŸ’°', label: '×¤×™× × ×¡×™' },
                { id: 'd7', value: 'health', emoji: 'âš–ï¸', label: '×‘×¨×™××•×ª×™' },
                { id: 'd8', value: 'inside-out', emoji: 'âœ¨', label: '×¢×¡×§ INSIDE OUT' }
            ]);
            const [newDomainEmoji, setNewDomainEmoji] = useState('');
            const [newDomainLabel, setNewDomainLabel] = useState('');

            const [dailySchedule, setDailySchedule] = useState([
                { id: 's1', time: '05:30â€“06:00', activity: '×˜×§×¡ ×‘×•×§×¨ ×›×•×œ×œ ×©×ª×™×™×ª ××™× ×•×§×¤×”', domain: '×’×•×£ ×•× ×¤×©', note: '', type: 'morning', completed: false },
                { id: 's2', time: '06:30â€“07:30', activity: '×–××Ÿ ×¢× ×¨×¤××œ×™ â€“ ××¨×•×—×ª ×‘×•×§×¨, ×”×ª××¨×’× ×•×ª ×œ×’×Ÿ', domain: '××©×¤×—×”', note: '', type: 'family', completed: false },
                { id: 's3', time: '07:30â€“08:00', activity: '×¤×¢×™×œ×•×ª ×’×•×¤× ×™×ª (×”×œ×™×›×”/×¨×™×¦×”/×›×•×©×¨)', domain: '×’×•×£ ×•× ×¤×©', note: '', type: 'fitness', completed: false },
                { id: 's4', time: '08:00â€“12:00', activity: '×¢×‘×•×“×” ×¢××•×§×” 1: ×¤×¨×•×™×§×˜ ×’××¨ / ×¡×¤×¨ (×‘×œ×•×§ 4 ×©×¢×•×ª)', domain: '××“×¨×™×›×œ×•×ª ×•×¡×¤×¨', note: '×”×¤×¨×•×™×§×˜ ××¡\' 1 ×¢×“ ×¡×•×£ ×”×©× ×”', type: 'work', completed: false },
                { id: 's5', time: '12:00â€“13:00', activity: '××¨×•×—×ª ×¦×”×¨×™×™× ×‘×¨×™××” + ××™×', domain: '×’×•×£ ×•× ×¤×©', note: '', type: 'noon', completed: false },
                { id: 's6', time: '13:00â€“15:30', activity: '×¢×‘×•×“×” ×¢××•×§×” 2: ×ª×•×›×Ÿ (×¨×™×œ×¡/×¤×•×¡×˜×™×), ×™×¦×™×¨×ª ×¢×¨×š', domain: '×›×œ×œ×™', note: '', type: 'work', completed: false },
                { id: 's7', time: '15:30â€“16:00', activity: '', domain: '×›×œ×œ×™', note: '', type: 'general', completed: false },
                { id: 's8', time: '16:00â€“18:00', activity: '××©×™××•×ª ×’××™×©×•×ª (×¤×™× × ×¡×™, ×–×•×’×™×•×ª, ×§×¨×™××”)', domain: '×’××™×©', note: '×¡×’×™×¨×” ××©×™××•×ª ×™×•×', type: 'general', completed: false },
                { id: 's9', time: '18:00â€“19:00', activity: '×”×œ×™×›×”/××©×—×§ ×¢× ×¨×¤××œ×™', domain: '××©×¤×—×”', note: '×–××Ÿ ××™×›×•×ª', type: 'family', completed: false },
                { id: 's10', time: '19:00â€“20:00', activity: '××¨×•×—×ª ×¢×¨×‘ ××©×¤×—×ª×™×ª', domain: '××©×¤×—×”', note: '×©×™×ª×•×£ ×™×•×', type: 'family', completed: false },
                { id: 's11', time: '20:00â€“21:00', activity: '×–×•×’×™×•×ª: ×™×™×Ÿ + ×©×™×—×” ×¢×•××§ (2â€“3 ×¤×¢××™× ×‘×©×‘×•×¢)', domain: '××©×¤×—×”', note: '×“×™×™×˜ ×©×‘×•×¢×™ ×—×•×‘×”', type: 'family', completed: false },
                { id: 's12', time: '21:00â€“22:00', activity: '×¡×’×™×¨×ª ×™×•×: ×“×©×‘×•×¨×“, ×¨×¤×œ×§×¦×™×”, ×§×¨×™××”', domain: '×›×œ×œ×™', note: '', type: 'general', completed: false },
            ]);

            const [successMetrics, setSuccessMetrics] = useState([
                { id: 'm1', domain: '×¤×™× × ×¡×™', daily: '×”×›× ×¡×” ×™×•××™×ª?', weekly: '×”×›× ×¡×” ×©×‘×•×¢×™×ª', monthly: '50K+ × ×˜×•' },
                { id: 'm2', domain: '×’×•×£ ×•× ×¤×©', daily: 'âœ“ ×˜×§×¡ ×‘×•×§×¨, ×ª× ×•×¢×”, ××•×›×œ ×‘×¨×™×', weekly: '×™×¨×™×“×” ×‘××©×§×œ? ×©×¢×•×ª ×©×™× ×” ×××•×¦×¢', monthly: '80% ×™××™× ××œ××™×' },
                { id: 'm3', domain: '××©×¤×—×”', daily: 'âœ“ ×–××Ÿ ×¨×¤××œ×™, ×–×•×’×™×•×ª', weekly: '×“×™×™×˜ ×©×‘×•×¢×™', monthly: '20 ×©×¢×•×ª ××™×›×•×ª' },
                { id: 'm4', domain: '××“×¨×™×›×œ×•×ª ×•×¡×¤×¨', daily: '×©×¢×•×ª ×¢×‘×•×“×” ×¢×œ ×¤×¨×•×™×§×˜ ×’××¨', weekly: '×”×ª×§×“××•×ª %', monthly: '×”×’×©×” ×¢×“ ×¡×•×£ 2026' },
                { id: 'm5', domain: '×ª×•×›×Ÿ', daily: 'âœ“ ×ª×•×›×Ÿ ×™×•××™', weekly: '×¢×•×§×‘×™× ×—×“×©×™×', monthly: '1K+ ×¢×•×§×‘×™× ×—×“×©×™×' },
            ]);

            const [domainGoals, setDomainGoals] = useState([
                { id: 'dg1', title: '×”×•×¦××ª ×”×¡×¤×¨ ×œ××•×¨', emoji: 'ğŸ“š', color: 'from-blue-500 to-cyan-500', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '×¡×™×•× ×¢×¨×™×›×” ×œ-120,000 ××™×œ×™×' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '×©×œ×™×—×” ×œ×¢×•×¨×›×ª ××§×¦×•×¢×™×ª (××¡× ×ª)' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '×¤×¨×¡×•× ×”×¡×¤×¨ - ×™×•× ×™ 2027' }] },
                { id: 'dg2', title: '×¤×¨×•×™×§×˜ ×’××¨ ×‘××“×¨×™×›×œ×•×ª', emoji: 'ğŸ“', color: 'from-violet-500 to-purple-500', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '×©×™×—×” ×¢× × ×“×‘ + ×ª×•×›× ×™×ª ×¢×‘×•×“×”' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '×”×©×œ××ª 50% - ××¨×¥ 2026' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '×”×’×©×” ×•×§×‘×œ×ª ×¨×™×©×™×•×Ÿ - ××¤×¨×™×œ-×××™ 2026' }] },
                { id: 'dg3', title: '×ª×›× ×•×Ÿ ×•×¢×™×¦×•×‘ ×‘×™×ª ××©\' ×©×•×•×¨×¥', emoji: 'ğŸ—ï¸', color: 'from-emerald-500 to-teal-500', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '×—×•×–×” + ×¤×’×™×©×ª ×¤×ª×™×—×”' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '2 ×¡×§×™×¦×•×ª + ××™×©×•×¨ ×›×™×•×•×Ÿ' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '×ª×›× ×™×ª ××¤×•×¨×˜×ª + ×ª×™×¢×•×“ ×‘×¨×©×ª×•×ª' }] },
                { id: 'dg4', title: '×™×•×¦×¨×ª ×ª×•×›×Ÿ ×‘×¨×©×ª×•×ª', emoji: 'ğŸ“±', color: 'from-pink-500 to-rose-500', current: '160 ×¢×•×§×‘×™×', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '500 ×¢×•×§×‘×™× (×¤×‘×¨×•××¨)' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '5,000 ×¢×•×§×‘×™× (×™×•× ×™)' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '500,000 ×¢×•×§×‘×™×' }] },
                { id: 'dg5', title: '××™××•×Ÿ ×× ×˜×œ×™', emoji: 'ğŸ§ ', color: 'from-orange-500 to-amber-500', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '×¨×™×©×•× ×œ×§×•×¨×¡ - × ×•×‘××‘×¨ 2026' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '×¡×™×•× ×§×•×¨×¡ + ×œ×§×•×—×•×ª ×¨××©×•× ×™×' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '×§×•×¨×¡ "×ª×•×›× ×™×ª 90 ×™×•×"' }] },
                { id: 'dg6', title: '× ×•××•×¨×•×œ×•×’×™×”', emoji: 'ğŸ¨', color: 'from-indigo-500 to-blue-500', points: [{ id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '×œ××™×“×” ×¢×¦××™×ª ×œ×”× ××”' }, { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '×ª×•×›×Ÿ ×©×‘×•×¢×™ + ×©×™×œ×•×‘ ×‘×¢×™×¦×•×‘' }, { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '×¤×™×ª×•×— ××—×§×¨ ×•×©×™×˜×ª ×¢×™×¦×•×‘ ×™×™×—×•×“×™×ª' }] },
            ]);

            const [newTaskText, setNewTaskText] = useState('');
            const [newTaskDomain, setNewTaskDomain] = useState('general');
            const [newTaskDueDate, setNewTaskDueDate] = useState('');
            const [newProjectTitle, setNewProjectTitle] = useState('');
            const [newProjectEmoji, setNewProjectEmoji] = useState('âœ¨');
            const [newProjectDueDate, setNewProjectDueDate] = useState('');
            const [newProjectDomain, setNewProjectDomain] = useState('general');
            const [newProjectColor, setNewProjectColor] = useState('from-violet-500 to-purple-500');
            const [newResourceTitle, setNewResourceTitle] = useState('');
            const [newResourceUrl, setNewResourceUrl] = useState('');
            const [newResourceDomain, setNewResourceDomain] = useState('general');
            const [addingTaskToProject, setAddingTaskToProject] = useState(null);
            const months = ["×™× ×•××¨","×¤×‘×¨×•××¨","××¨×¥","××¤×¨×™×œ","×××™","×™×•× ×™","×™×•×œ×™","××•×’×•×¡×˜","×¡×¤×˜××‘×¨","××•×§×˜×•×‘×¨","× ×•×‘××‘×¨","×“×¦××‘×¨"];

            const [projects, setProjects] = useState([
                { id: 'p1', title: '×”×’×©×ª ×¤×¨×•×™×§×˜ ×’××¨ ×‘××“×¨×™×›×œ×•×ª', gradient: 'from-violet-500 to-purple-500', emoji: 'ğŸ“', startMonth: 1, endMonth: 5, showOnHome: true },
                { id: 'p2', title: '×œ×”×•×¦×™× ××ª ×”×¡×¤×¨ ×©×œ×™ ×œ××•×¨', gradient: 'from-blue-500 to-cyan-500', emoji: 'ğŸ“š', startMonth: 4, endMonth: 12, showOnHome: true },
                { id: 'p3', title: '×™×¦×™×¨×ª ×§×”×™×œ×” / ×™×•×¦×¨×ª ×ª×•×›×Ÿ', gradient: 'from-pink-500 to-rose-500', emoji: 'ğŸ“±', startMonth: 2, endMonth: 12, showOnHome: true },
                { id: 'p4', title: '×œ×¨×“×ª 20 ×§"×’', gradient: 'from-rose-500 to-pink-600', emoji: 'âš–ï¸', startMonth: 1, endMonth: 10, showOnHome: false },
                { id: 'p5', title: '×ª×›× ×•×Ÿ ×‘×™×ª ××©\' ×©×•×•×¨×¥', gradient: 'from-emerald-500 to-teal-500', emoji: 'ğŸ—ï¸', startMonth: 1, endMonth: 3, showOnHome: false },
                { id: 'p6', title: '×œ×—×§×•×¨ ××ª × ×•×©× ×”×¡×˜×•×¨×™ ×˜×œ×™× ×’', gradient: 'from-indigo-500 to-blue-500', emoji: 'âœ¨', startMonth: 3, endMonth: 8, showOnHome: false },
            ]);

            const [tasks, setTasks] = useState([]);

            const [resources, setResources] = useState([
                { id: 'r1', title: '×”×©×¨××” ×œ××“×¨×™×›×œ×•×ª ××•×“×¨× ×™×ª', url: 'https://www.archdaily.com', projectId: 'p1', completed: true, emoji: 'ğŸ—ï¸' },
                { id: 'r2', title: '×¨×¤×¨× ×¡×™× ×œ×¢×™×¦×•×‘ ×¤×•×¡×˜×™×', url: 'https://www.instagram.com', projectId: 'p3', completed: false, emoji: 'ğŸ“±' },
            ]);

            const [morningRitual, setMorningRitual] = useState([
                { id: 'm1', text: '××“×™×˜×¦×™×” ğŸ§˜â€â™€ï¸', completed: false },
                { id: 'm2', text: '×“×¤×™ ×‘×•×§×¨ ğŸ“', completed: false },
                { id: 'm3', text: '×›×ª×™×‘×ª ×”×•×“×™×•×ª ğŸ™', completed: false },
                { id: 'm4', text: '×× ×˜×¨×•×ª ×—×™×•×‘×™×•×ª âœ¨', completed: false },
                { id: 'm5', text: '×ª×›× ×•×Ÿ ×”×™×•× ğŸ“…', completed: false },
                { id: 'm6', text: '3 ××©×™××•×ª ×—×©×•×‘×•×ª ğŸ¯', completed: false },
            ]);

            const [gameChangers, setGameChangers] = useState([
                { id: 'gc1', text: '', placeholder: '××©×™××ª ×–×”×‘ 1 ğŸ¥‡' },
                { id: 'gc2', text: '', placeholder: '××©×™××ª ×–×”×‘ 2 ğŸ¥ˆ' },
                { id: 'gc3', text: '', placeholder: '××©×™××ª ×–×”×‘ 3 ğŸ¥‰' },
            ]);
            
            // Morning Ritual functions
            const addMorningRitualItem = () => {
                setMorningRitual(prev => [...prev, {
                    id: `m${Date.now()}`,
                    text: '×¤×¨×™×˜ ×—×“×©',
                    completed: false
                }]);
            };
            
            const updateMorningRitualText = (id, text) => {
                setMorningRitual(prev => prev.map(item => item.id === id ? {...item, text} : item));
            };
            
            const deleteMorningRitualItem = (id) => {
                setMorningRitual(prev => prev.filter(item => item.id !== id));
            };
            
            // Section titles
            const [morningRitualTitle, setMorningRitualTitle] = useState('×˜×§×¡ ×‘×•×§×¨');
            const [morningRitualEmoji, setMorningRitualEmoji] = useState('â˜€ï¸');
            const [gameChangersTitle, setGameChangersTitle] = useState('GAME CHANGERS');
            const [gameChangersEmoji, setGameChangersEmoji] = useState('âš¡');
            const [editingMorningTitle, setEditingMorningTitle] = useState(false);
            const [editingGameChangersTitle, setEditingGameChangersTitle] = useState(false);

            const [archive, setArchive] = useState([]);

            // Save and Load functions with Firestore
            const saveAllData = async () => {
                if (!user) return;
                
                const dataToSave = {
                    tabs,
                    projects,
                    tasks,
                    resources,
                    morningRitual,
                    gameChangers,
                    dailySchedule,
                    ideas,
                    domains,
                    domainGoals,
                    successMetrics,
                    homeWidgets,
                    morningRitualTitle,
                    morningRitualEmoji,
                    gameChangersTitle,
                    gameChangersEmoji,
                    archive,
                    mindsetEntries,
                    futureSelfEntries,
                    futureSelfFiles,
                    dayScheduleTasks,
                    weeklySchedule,
                    timestamp: new Date().toISOString()
                };
                
                try {
                    await db.collection('users').doc(user.uid).set({ data: dataToSave });
                    setSaveNotification(true);
                    setTimeout(() => setSaveNotification(false), 3000);
                } catch (error) {
                    console.error('Error saving data:', error);
                    alert('×©×’×™××” ×‘×©××™×¨×ª ×”× ×ª×•× ×™×');
                }
            };

            const loadAllData = async () => {
                if (!user) return;
                
                try {
                    const doc = await db.collection('users').doc(user.uid).get();
                    if (doc.exists) {
                        const savedData = doc.data().data;
                        if (savedData.tabs) setTabs(savedData.tabs);
                        if (savedData.projects) setProjects(savedData.projects);
                        if (savedData.tasks) setTasks(savedData.tasks);
                        if (savedData.resources) setResources(savedData.resources);
                        if (savedData.morningRitual) setMorningRitual(savedData.morningRitual);
                        if (savedData.gameChangers) setGameChangers(savedData.gameChangers);
                        if (savedData.dailySchedule) setDailySchedule(savedData.dailySchedule);
                        if (savedData.ideas) setIdeas(savedData.ideas);
                        if (savedData.domains) setDomains(savedData.domains);
                        if (savedData.domainGoals) setDomainGoals(savedData.domainGoals);
                        if (savedData.successMetrics) setSuccessMetrics(savedData.successMetrics);
                        if (savedData.homeWidgets) setHomeWidgets(savedData.homeWidgets);
                        if (savedData.morningRitualTitle) setMorningRitualTitle(savedData.morningRitualTitle);
                        if (savedData.morningRitualEmoji) setMorningRitualEmoji(savedData.morningRitualEmoji);
                        if (savedData.gameChangersTitle) setGameChangersTitle(savedData.gameChangersTitle);
                        if (savedData.gameChangersEmoji) setGameChangersEmoji(savedData.gameChangersEmoji);
                        if (savedData.archive) setArchive(savedData.archive);
                        if (savedData.mindsetEntries) setMindsetEntries(savedData.mindsetEntries);
                        if (savedData.futureSelfEntries) setFutureSelfEntries(savedData.futureSelfEntries);
                        if (savedData.futureSelfFiles) setFutureSelfFiles(savedData.futureSelfFiles);
                        if (savedData.dayScheduleTasks) setDayScheduleTasks(savedData.dayScheduleTasks);
                        if (savedData.weeklySchedule) setWeeklySchedule(savedData.weeklySchedule);
                    }
                } catch (error) {
                    console.error('Error loading data:', error);
                }
            };

            const clearAllData = async () => {
                if (confirm('×”×× ××ª ×‘×˜×•×—×” ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×›×œ ×”× ×ª×•× ×™× ×”×©××•×¨×™×? ×¤×¢×•×œ×” ×–×• ×ª××¤×¡ ××ª ×”×“×©×‘×•×¨×“ ×œ××¦×‘ ×”×”×ª×—×œ×ª×™.')) {
                    if (!user) return;
                    try {
                        await db.collection('users').doc(user.uid).delete();
                        window.location.reload();
                    } catch (error) {
                        console.error('Error clearing data:', error);
                    }
                }
            };

            useEffect(() => {
                if (user) {
                    loadAllData(); // Load data when user logs in
                }
            }, [user]);

            useEffect(() => { lucide.createIcons(); });

            const calculateProgress = (projectId) => {
                const combined = [...tasks.filter(t => t.projectId === projectId), ...resources.filter(r => r.projectId === projectId)];
                if (combined.length === 0) return 0;
                return Math.round((combined.filter(item => item.completed).length / combined.length) * 100);
            };

            const fire = () => { setShowConfetti(true); setTimeout(() => setShowConfetti(false), 1500); };
            const addToArchive = (text, type) => {
                const now = new Date();
                const dateStr = now.toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' });
                const timeStr = now.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' });
                setArchive(prev => [{ id: `a${Date.now()}`, text, type, date: dateStr, time: timeStr }, ...prev]);
            };
            const toggleTask = (id) => {
                const task = tasks.find(t => t.id === id);
                if (task && !task.completed) {
                    fire();
                    addToArchive(task.text, 'task');
                    setTasks(prev => prev.filter(t => t.id !== id));
                }
            };
            const toggleResource = (id) => setResources(prev => prev.map(r => { if (r.id === id) { if (!r.completed) { fire(); addToArchive(r.title, 'resource'); } return {...r, completed: !r.completed}; } return r; }));
            const toggleItem = (list, setter, id) => setter(prev => prev.map(item => { if (item.id === id) { if (!item.completed) fire(); return {...item, completed: !item.completed}; } return item; }));
            const archiveGameChanger = (gc) => { if (gc.text.trim()) { addToArchive(gc.text, 'gamechanger'); } };
            
            const addGameChanger = () => {
                setGameChangers(prev => [...prev, {
                    id: `gc${Date.now()}`,
                    text: '',
                    placeholder: `××©×™××ª ×–×”×‘ ${prev.length + 1}`
                }]);
            };
            
            const deleteGameChanger = (id) => {
                const gc = gameChangers.find(g => g.id === id);
                if (gc && gc.text.trim()) {
                    addToArchive(gc.text, 'gamechanger');
                }
                setGameChangers(prev => prev.filter(g => g.id !== id));
            };
            
            const updateGameChanger = (id, text) => {
                setGameChangers(prev => prev.map(g => g.id === id ? {...g, text} : g));
            };
            const clearArchive = () => setArchive([]);
            
            const restoreFromArchive = (archiveItem) => {
                if (archiveItem.type === 'task') {
                    // Restore task as incomplete
                    setTasks(prev => [...prev, { id: `t${Date.now()}`, text: archiveItem.text, projectId: null, completed: false }]);
                } else if (archiveItem.type === 'resource') {
                    // Restore resource as incomplete
                    setResources(prev => [...prev, { id: `r${Date.now()}`, title: archiveItem.text, url: '#', projectId: null, completed: false, emoji: 'ğŸ”—' }]);
                } else if (archiveItem.type === 'project') {
                    // Restore project
                    setProjects(prev => [...prev, { 
                        id: `p${Date.now()}`, 
                        title: archiveItem.text, 
                        emoji: 'ğŸ“‚', 
                        color: 'from-violet-500 to-purple-500',
                        dueMonth: 12,
                        dueDate: ''
                    }]);
                } else if (archiveItem.type === 'idea') {
                    // Restore idea
                    setIdeas(prev => [...prev, {
                        id: `idea${Date.now()}`,
                        text: archiveItem.text,
                        color: 'yellow',
                        date: new Date().toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' })
                    }]);
                } else if (archiveItem.type === 'gamechanger') {
                    // Restore to game changers - find first empty slot
                    setGameChangers(prev => {
                        const emptyIndex = prev.findIndex(gc => !gc.text.trim());
                        if (emptyIndex !== -1) {
                            return prev.map((gc, i) => i === emptyIndex ? {...gc, text: archiveItem.text} : gc);
                        }
                        return prev; // No empty slot found
                    });
                }
                // Note: schedule items don't get restored, they're just for viewing history
                // Remove from archive
                setArchive(prev => prev.filter(item => item.id !== archiveItem.id));
            };

            const addNewTask = () => {
                if (!newTaskText.trim()) return;
                setTasks(prev => [...prev, { id: `t${Date.now()}`, text: newTaskText, projectId: newTaskDomain === 'general' ? null : newTaskDomain, completed: false, dueDate: newTaskDueDate }]);
                setNewTaskText(''); setNewTaskDomain('general'); setNewTaskDueDate('');
            };
            const addNewProject = () => {
                if (!newProjectTitle.trim()) return;
                const dueMonth = newProjectDueDate ? new Date(newProjectDueDate).getMonth() + 1 : 12;
                setProjects(prev => [...prev, { 
                    id: `p${Date.now()}`, 
                    title: newProjectTitle, 
                    color: newProjectColor,
                    gradient: newProjectColor, // Keep for backwards compatibility
                    emoji: newProjectEmoji, 
                    startMonth: new Date().getMonth()+1, 
                    endMonth: dueMonth, 
                    showOnHome: false, 
                    dueDate: newProjectDueDate, 
                    domain: newProjectDomain 
                }]);
                setNewProjectTitle(''); 
                setNewProjectEmoji('âœ¨'); 
                setNewProjectDueDate(''); 
                setNewProjectDomain('general');
                setNewProjectColor('from-violet-500 to-purple-500');
            };
            const addNewResource = () => {
                if (!newResourceTitle.trim() || !newResourceUrl.trim()) return;
                setResources(prev => [...prev, { id: `r${Date.now()}`, title: newResourceTitle, url: newResourceUrl, projectId: newResourceDomain === 'general' ? null : newResourceDomain, completed: false, emoji: 'ğŸ”—' }]);
                setNewResourceTitle(''); setNewResourceUrl(''); setNewResourceDomain('general');
            };
            
            const deleteResource = (id) => {
                const resource = resources.find(r => r.id === id);
                if (resource) {
                    addToArchive(resource.title, 'resource');
                    setResources(prev => prev.filter(r => r.id !== id));
                }
            };

            const deleteProject = (projectId) => {
                if (confirm('×œ××—×•×§ ××ª ×”×¤×¨×•×™×§×˜? (×”××©×™××•×ª ×©×œ×• ×™×•×¢×‘×¨×• ×œ××©×™××•×ª ×›×œ×œ×™×•×ª)')) {
                    // Archive the project before deleting
                    const project = projects.find(p => p.id === projectId);
                    if (project) {
                        addToArchive(project.title, 'project');
                    }
                    // Move project tasks to general tasks
                    const projectTasks = tasks.filter(t => t.projectId === projectId);
                    if (projectTasks.length > 0) {
                        setTasks(prev => prev.map(t => 
                            t.projectId === projectId ? {...t, projectId: null} : t
                        ));
                    }
                    // Delete the project
                    setProjects(prev => prev.filter(p => p.id !== projectId));
                }
            };

            const addTaskToProject = (projectId) => {
                if (!newTaskText.trim()) return;
                setTasks(prev => [...prev, { 
                    id: `t${Date.now()}`, 
                    text: newTaskText, 
                    projectId: projectId, 
                    completed: false, 
                    dueDate: newTaskDueDate || '' 
                }]);
                setNewTaskText(''); 
                setNewTaskDueDate('');
                setAddingTaskToProject(null);
            };

            const updateScheduleActivity = (id, v) => setDailySchedule(p => p.map(s => s.id===id?{...s,activity:v}:s));
            const updateScheduleNote = (id, v) => setDailySchedule(p => p.map(s => s.id===id?{...s,note:v}:s));
            const updateScheduleTime = (id, v) => setDailySchedule(p => p.map(s => s.id===id?{...s,time:v}:s));
            const toggleScheduleItem = (id) => setDailySchedule(p => p.map(s => s.id===id?{...s,completed:!s.completed}:s));
            const deleteScheduleItem = (id) => setDailySchedule(p => p.filter(s => s.id !== id));
            const saveScheduleToArchive = () => {
                const now = new Date();
                const dateStr = now.toLocaleDateString('he-IL', { day: 'numeric', month: 'long', year: 'numeric' });
                const scheduleSnapshot = dailySchedule.map(s => ({...s}));
                setArchive(prev => [{
                    id: `schedule-${Date.now()}`,
                    text: `×œ×•"×– ×™×•××™ - ${dateStr}`,
                    type: 'schedule',
                    date: dateStr,
                    time: now.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' }),
                    scheduleData: scheduleSnapshot
                }, ...prev]);
            };
            const updateMetricField = (id, f, v) => setSuccessMetrics(p => p.map(m => m.id===id?{...m,[f]:v}:m));
            const addMetricRow = () => setSuccessMetrics(p => [...p, {id:`m${Date.now()}`,domain:'×ª×—×•× ×—×“×©',daily:'',weekly:'',monthly:''}]);
            const removeMetricRow = (id) => setSuccessMetrics(p => p.filter(m => m.id!==id));
            const updateGoalTitle = (gid, v) => setDomainGoals(p => p.map(g => g.id===gid?{...g,title:v}:g));
            const updateGoalCurrent = (gid, v) => setDomainGoals(p => p.map(g => g.id===gid?{...g,current:v}:g));
            const updateGoalPoint = (gid, pid, v) => setDomainGoals(p => p.map(g => g.id===gid?{...g,points:g.points.map(pt => pt.id===pid?{...pt,text:v}:pt)}:g));
            const addGoalPoint = (gid) => setDomainGoals(p => p.map(g => g.id===gid?{...g,points:[...g.points,{id:`p${Date.now()}`,label:`×™×¢×“ ${g.points.length+1}`,text:''}]}:g));
            const removeGoalPoint = (gid, pid) => setDomainGoals(p => p.map(g => g.id===gid?{...g,points:g.points.filter(pt => pt.id!==pid)}:g));
            const removeGoal = (gid) => setDomainGoals(p => p.filter(g => g.id !== gid));
            
            const [newGoalTitle, setNewGoalTitle] = useState('');
            const [newGoalEmoji, setNewGoalEmoji] = useState('ğŸ¯');
            const [newGoalColor, setNewGoalColor] = useState('from-violet-500 to-purple-500');
            
            const addNewGoal = () => {
                if (!newGoalTitle.trim()) return;
                setDomainGoals(prev => [...prev, {
                    id: `dg${Date.now()}`,
                    title: newGoalTitle,
                    emoji: newGoalEmoji,
                    color: newGoalColor,
                    points: [
                        { id: 'p1', label: '×™×¢×“ ×§×¨×•×‘', text: '' },
                        { id: 'p2', label: '×™×¢×“ ×‘×™× ×•× ×™', text: '' },
                        { id: 'p3', label: '×™×¢×“ ×¨×—×•×§', text: '' }
                    ]
                }]);
                setNewGoalTitle('');
                setNewGoalEmoji('ğŸ¯');
                setNewGoalColor('from-violet-500 to-purple-500');
            };
            
            // Ideas functions
            const addNewIdea = () => {
                if (!newIdeaText.trim()) return;
                setIdeas(prev => [...prev, {
                    id: `idea${Date.now()}`,
                    text: newIdeaText,
                    color: newIdeaColor,
                    date: new Date().toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' })
                }]);
                setNewIdeaText('');
                setNewIdeaColor('yellow');
            };
            
            const removeIdea = (id) => {
                const idea = ideas.find(i => i.id === id);
                if (idea) {
                    addToArchive(idea.text, 'idea');
                }
                setIdeas(prev => prev.filter(i => i.id !== id));
            };
            const updateIdeaText = (id, text) => setIdeas(prev => prev.map(i => i.id === id ? {...i, text} : i));
            const updateIdeaColor = (id, color) => setIdeas(prev => prev.map(i => i.id === id ? {...i, color} : i));

            const getItemsForDate = (year, month, day) => {
                const dateStr = `${year}-${String(month).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
                const projectsOnDate = projects.filter(p => p.dueDate === dateStr);
                const tasksOnDate = tasks.filter(t => t.dueDate === dateStr);
                const dayTasks = dayScheduleTasks[dateStr] || [];
                return [...projectsOnDate.map(p => ({...p, type: 'project'})), ...tasksOnDate.map(t => ({...t, type: 'task'})), ...dayTasks.map(dt => ({...dt, type: 'daytask'}))];
            };
            
            // Calendar state
            const [calendarView, setCalendarView] = useState('month'); // year, quarter, month, week, day
            const [currentMonth, setCurrentMonth] = useState(2); // February
            const [currentYear, setCurrentYear] = useState(2026);
            const [selectedDate, setSelectedDate] = useState(null);
            const [dayScheduleTasks, setDayScheduleTasks] = useState({});
            const [weeklySchedule, setWeeklySchedule] = useState({
                sunday: [],
                monday: [],
                tuesday: [],
                wednesday: [],
                thursday: [],
                friday: [],
                saturday: []
            });
            
            // Mindset - entries list like ideas
            const [mindsetEntries, setMindsetEntries] = useState([]);
            const [newMindsetText, setNewMindsetText] = useState('');
            
            const addMindsetEntry = () => {
                if (!newMindsetText.trim()) return;
                setMindsetEntries(prev => [...prev, {
                    id: `mindset${Date.now()}`,
                    text: newMindsetText,
                    date: new Date().toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' })
                }]);
                setNewMindsetText('');
            };
            
            const updateMindsetEntry = (id, text) => setMindsetEntries(prev => prev.map(e => e.id === id ? {...e, text} : e));
            const removeMindsetEntry = (id) => setMindsetEntries(prev => prev.filter(e => e.id !== id));
            
            // Future Self - entries list like ideas
            const [futureSelfEntries, setFutureSelfEntries] = useState([]);
            const [newFutureSelfText, setNewFutureSelfText] = useState('');
            const [futureSelfFiles, setFutureSelfFiles] = useState([]);
            
            const addFutureSelfEntry = () => {
                if (!newFutureSelfText.trim()) return;
                setFutureSelfEntries(prev => [...prev, {
                    id: `futureself${Date.now()}`,
                    text: newFutureSelfText,
                    date: new Date().toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' })
                }]);
                setNewFutureSelfText('');
            };
            
            const updateFutureSelfEntry = (id, text) => setFutureSelfEntries(prev => prev.map(e => e.id === id ? {...e, text} : e));
            const removeFutureSelfEntry = (id) => setFutureSelfEntries(prev => prev.filter(e => e.id !== id));
            
            const handleFileUpload = (e) => {
                const files = Array.from(e.target.files);
                files.forEach(file => {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setFutureSelfFiles(prev => [...prev, {
                            id: `file${Date.now()}${Math.random()}`,
                            name: file.name,
                            type: file.type,
                            data: event.target.result,
                            date: new Date().toLocaleDateString('he-IL', { day: 'numeric', month: 'short', year: 'numeric' })
                        }]);
                    };
                    reader.readAsDataURL(file);
                });
                e.target.value = '';
            };
            
            const removeFile = (id) => {
                setFutureSelfFiles(prev => prev.filter(f => f.id !== id));
            };
            
            // Tab management functions
            const addTab = () => {
                if (!newTabName.trim()) return;
                const newId = newTabName.toLowerCase().replace(/\s+/g, '-');
                setTabs(prev => [...prev, { id: newId, name: newTabName, icon: newTabIcon, color: newTabColor }]);
                setNewTabName('');
                setNewTabIcon('star');
                setNewTabColor('violet');
            };
            
            const deleteTab = (id) => {
                setTabs(prev => prev.filter(t => t.id !== id));
                if (activeTab === id) setActiveTab('home');
            };
            
            const updateTab = (id, field, value) => {
                setTabs(prev => prev.map(t => t.id === id ? {...t, [field]: value} : t));
            };
            
            // Widget management functions
            const updateWidget = (id, field, value) => {
                setHomeWidgets(prev => prev.map(w => w.id === id ? {...w, [field]: value} : w));
            };
            
            const deleteWidget = (id) => {
                setHomeWidgets(prev => prev.filter(w => w.id !== id));
            };
            
            const addWidget = (type, title, emoji, color) => {
                setHomeWidgets(prev => [...prev, {
                    id: `w${Date.now()}`,
                    type: type || 'custom',
                    title: title || '×¨×•×‘×¨×™×§×” ×—×“×©×”',
                    emoji: emoji || 'âœ¨',
                    color: color || 'slate',
                    size: 'half',
                    order: prev.length,
                    content: ''
                }]);
            };
            
            const handleWidgetDragStart = (e, widget) => {
                setDraggedWidget(widget);
                e.dataTransfer.effectAllowed = 'move';
            };
            
            const handleWidgetDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            };
            
            const handleWidgetDrop = (e, targetWidget) => {
                e.preventDefault();
                if (!draggedWidget || draggedWidget.id === targetWidget.id) return;
                
                const draggedOrder = draggedWidget.order;
                const targetOrder = targetWidget.order;
                
                setHomeWidgets(prev => prev.map(w => {
                    if (w.id === draggedWidget.id) return {...w, order: targetOrder};
                    if (w.id === targetWidget.id) return {...w, order: draggedOrder};
                    return w;
                }));
                
                setDraggedWidget(null);
            };
            
            // Search function
            const performSearch = (query) => {
                if (!query.trim()) {
                    setSearchResults([]);
                    return;
                }
                
                const results = [];
                const lowerQuery = query.toLowerCase();
                
                // Search in tasks
                tasks.forEach(task => {
                    if (task.text.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'task', item: task, tab: 'tasks' });
                    }
                });
                
                // Search in projects
                projects.forEach(project => {
                    if (project.title.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'project', item: project, tab: 'tasks' });
                    }
                });
                
                // Search in ideas
                ideas.forEach(idea => {
                    if (idea.text.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'idea', item: idea, tab: 'ideas' });
                    }
                });
                
                // Search in mindset entries
                mindsetEntries.forEach(entry => {
                    if (entry.text.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'mindset', item: entry, tab: 'mindset' });
                    }
                });
                
                // Search in future self entries
                futureSelfEntries.forEach(entry => {
                    if (entry.text.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'future-self', item: entry, tab: 'future-self' });
                    }
                });
                
                // Search in resources
                resources.forEach(resource => {
                    if (resource.title.toLowerCase().includes(lowerQuery)) {
                        results.push({ type: 'resource', item: resource, tab: 'resources' });
                    }
                });
                
                setSearchResults(results);
            };
            
            // Domain management
            const addDomain = () => {
                if (!newDomainLabel.trim() || !newDomainEmoji.trim()) return;
                const newId = `d${Date.now()}`;
                const newValue = newDomainLabel.toLowerCase().replace(/\s+/g, '-');
                setDomains(prev => [...prev, {
                    id: newId,
                    value: newValue,
                    emoji: newDomainEmoji,
                    label: newDomainLabel
                }]);
                setNewDomainEmoji('');
                setNewDomainLabel('');
            };
            
            const deleteDomain = (id) => {
                setDomains(prev => prev.filter(d => d.id !== id));
            };
            
            // Ideas - color-coded idea cards
            const [ideas, setIdeas] = useState([]);
            const [newIdeaText, setNewIdeaText] = useState('');
            const [newIdeaColor, setNewIdeaColor] = useState('yellow');
            const [ideasFilter, setIdeasFilter] = useState('all');
            
            // Israeli Holidays 2026
            const israeliHolidays = {
                '2026-03-05': 'ğŸ­ ×¤×•×¨×™×',
                '2026-04-13': 'ğŸ· ×¢×¨×‘ ×¤×¡×—',
                '2026-04-14': 'ğŸ«“ ×¤×¡×—',
                '2026-04-20': 'ğŸ«“ ×©×‘×™×¢×™ ×©×œ ×¤×¡×—',
                '2026-05-03': 'ğŸ‡®ğŸ‡± ×™×•× ×”×¢×¦×××•×ª',
                '2026-05-24': 'ğŸ“– ×©×‘×•×¢×•×ª',
                '2026-09-14': 'ğŸ ×¨××© ×”×©× ×”',
                '2026-09-15': 'ğŸ ×¨××© ×”×©× ×” ×‘\'',
                '2026-09-23': 'ğŸ•Šï¸ ×™×•× ×›×™×¤×•×¨',
                '2026-09-28': 'ğŸ•ï¸ ×¡×•×›×•×ª',
                '2026-10-05': 'ğŸ“– ×©××—×ª ×ª×•×¨×”',
                '2026-12-18': 'ğŸ• ×—× ×•×›×”'
            };
            
            // Get day of week for any date (0 = Sunday, 6 = Saturday)
            const getDayOfWeek = (year, month, day) => {
                return new Date(year, month - 1, day).getDay();
            };
            
            // Get number of days in month
            const getDaysInMonth = (year, month) => {
                return new Date(year, month, 0).getDate();
            };
            
            // Get first day of month (0 = Sunday)
            const getFirstDayOfMonth = (year, month) => {
                return new Date(year, month - 1, 1).getDay();
            };
            
            // Add task to specific date
            const addTaskToDate = (dateStr, task) => {
                setDayScheduleTasks(prev => ({
                    ...prev,
                    [dateStr]: [...(prev[dateStr] || []), { id: `dt${Date.now()}`, text: task, completed: false }]
                }));
            };
            
            // Toggle task on specific date
            const toggleDayTask = (dateStr, taskId) => {
                setDayScheduleTasks(prev => ({
                    ...prev,
                    [dateStr]: prev[dateStr].map(t => t.id === taskId ? {...t, completed: !t.completed} : t)
                }));
            };
            
            // Remove task from specific date
            const removeDayTask = (dateStr, taskId) => {
                setDayScheduleTasks(prev => ({
                    ...prev,
                    [dateStr]: prev[dateStr].filter(t => t.id !== taskId)
                }));
            };


            const typeColor = (t) => ({morning:'#f59e0b',work:'#6366f1',noon:'#10b981',creative:'#a855f7',fitness:'#f43f5e',family:'#ec4899',evening:'#6366f1',general:'#64748b'}[t]||'#64748b');
            const typeBg = (t) => ({morning:'bg-amber-100 text-amber-700',work:'bg-indigo-100 text-indigo-700',noon:'bg-emerald-100 text-emerald-700',creative:'bg-purple-100 text-purple-700',fitness:'bg-rose-100 text-rose-700',family:'bg-pink-100 text-pink-700',evening:'bg-indigo-100 text-indigo-700',general:'bg-slate-100 text-slate-700'}[t]||'bg-slate-100 text-slate-700');
            const typeIcon = (t) => ({morning:'sun',work:'briefcase',noon:'utensils',creative:'pen-tool',fitness:'activity',family:'heart',evening:'moon',general:'target'}[t]||'target');

            return (
                <div className="min-h-screen soft-bg text-slate-700 p-4 md:p-6 lg:p-8">
                    {showConfetti && <div className="fixed inset-0 pointer-events-none z-50 flex items-center justify-center"><div className="text-6xl animate-bounce-in">ğŸ‰</div></div>}

                    {/* TITLE */}
                    <div className="max-w-5xl mx-auto mb-5 pt-6 animate-slide-in-up">
                        <div className="flex items-center justify-between mb-2">
                            <div className="flex-1"></div>
                            <h1 className="text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-violet-600 via-pink-500 to-amber-500 gradient-text tracking-tight leading-tight text-center flex-1">××¨×›×– ×”×‘×§×¨×” ×©×œ ×”×—×™×™× ×©×œ×š</h1>
                            <div className="flex-1 flex justify-end items-center gap-3">
                                {user && (
                                    <>
                                        <div className="text-left hidden md:block">
                                            <p className="text-xs text-slate-500">××—×•×‘×¨×ª ×›:</p>
                                            <p className="text-sm font-semibold text-slate-700">{user.displayName}</p>
                                        </div>
                                        {user.photoURL && (
                                            <img src={user.photoURL} alt="Profile" className="w-10 h-10 rounded-full border-2 border-violet-300" />
                                        )}
                                        <button
                                            onClick={() => auth.signOut()}
                                            className="px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-xs font-semibold transition-all flex items-center gap-1"
                                            title="×”×ª× ×ª×§"
                                        >
                                            <Icon name="log-out" size={14} />
                                            <span className="hidden md:inline">×™×¦×™××”</span>
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>
                        <div className="h-1 w-32 mx-auto mt-3 bg-gradient-to-r from-violet-500 via-pink-400 to-amber-400 rounded-full opacity-60"></div>
                        
                        {/* Save Button */}
                        <div className="mt-4 flex items-center justify-center gap-2">
                            <button 
                                onClick={saveAllData}
                                className="px-5 py-2.5 bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600 text-white rounded-xl font-bold text-sm shadow-lg hover:shadow-xl transition-all flex items-center gap-2"
                            >
                                <Icon name="save" size={16} />
                                ×©××™×¨×ª ×›×œ ×”× ×ª×•× ×™×
                            </button>
                        </div>
                        
                        {/* Save Notification */}
                        {saveNotification && (
                            <div className="mt-3 inline-flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-full text-sm font-semibold shadow-lg animate-bounce-in">
                                <Icon name="check-circle" size={16} />
                                ×”× ×ª×•× ×™× × ×©××¨×• ×‘×”×¦×œ×—×”! âœ¨
                            </div>
                        )}
                    </div>

                    {/* SEARCH BAR */}
                    <div className="max-w-2xl mx-auto mb-6 animate-slide-in-up">
                        <div className="relative">
                            <Icon name="search" size={18} className="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400" />
                            <input 
                                type="text"
                                value={searchQuery}
                                onChange={(e) => {
                                    setSearchQuery(e.target.value);
                                    performSearch(e.target.value);
                                }}
                                placeholder="×—×™×¤×•×© ×‘××©×™××•×ª, ×¤×¨×•×™×§×˜×™×, ×¨×¢×™×•× ×•×ª ×•×¢×•×“..."
                                className="w-full pr-12 pl-4 py-3 bg-white border-2 border-slate-200 rounded-2xl outline-none text-sm focus:border-violet-400 transition-all shadow-sm"
                            />
                            {searchQuery && (
                                <button 
                                    onClick={() => {
                                        setSearchQuery('');
                                        setSearchResults([]);
                                    }}
                                    className="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600"
                                >
                                    <Icon name="x" size={16} />
                                </button>
                            )}
                        </div>
                        
                        {/* Search Results Dropdown */}
                        {searchResults.length > 0 && (
                            <div className="mt-2 card p-4 max-h-96 overflow-y-auto">
                                <div className="flex items-center justify-between mb-3">
                                    <h3 className="text-sm font-bold text-slate-700">×ª×•×¦××•×ª ×—×™×¤×•×© ({searchResults.length})</h3>
                                    <button 
                                        onClick={() => {
                                            setSearchQuery('');
                                            setSearchResults([]);
                                        }}
                                        className="text-xs text-slate-500 hover:text-slate-700"
                                    >
                                        ×¡×’×•×¨
                                    </button>
                                </div>
                                <div className="space-y-2">
                                    {searchResults.map((result, idx) => (
                                        <div 
                                            key={idx}
                                            onClick={() => {
                                                setActiveTab(result.tab);
                                                setSearchQuery('');
                                                setSearchResults([]);
                                            }}
                                            className="p-3 bg-slate-50 hover:bg-violet-50 rounded-lg cursor-pointer transition-all border border-slate-100 hover:border-violet-200"
                                        >
                                            <div className="flex items-start gap-2">
                                                <div className={`mt-0.5 ${
                                                    result.type === 'task' ? 'text-blue-500' :
                                                    result.type === 'project' ? 'text-purple-500' :
                                                    result.type === 'idea' ? 'text-yellow-500' :
                                                    result.type === 'mindset' ? 'text-purple-500' :
                                                    result.type === 'future-self' ? 'text-rose-500' :
                                                    'text-indigo-500'
                                                }`}>
                                                    <Icon name={
                                                        result.type === 'task' ? 'check-circle' :
                                                        result.type === 'project' ? 'folder' :
                                                        result.type === 'idea' ? 'lightbulb' :
                                                        result.type === 'mindset' ? 'brain' :
                                                        result.type === 'future-self' ? 'sparkles' :
                                                        'link'
                                                    } size={16} />
                                                </div>
                                                <div className="flex-1 min-w-0">
                                                    <p className="text-sm font-medium text-slate-700 line-clamp-2">
                                                        {result.item.text || result.item.title}
                                                    </p>
                                                    <p className="text-xs text-slate-500 mt-1">
                                                        {result.type === 'task' ? 'âœ… ××©×™××”' :
                                                         result.type === 'project' ? 'ğŸ“‚ ×¤×¨×•×™×§×˜' :
                                                         result.type === 'idea' ? 'ğŸ’¡ ×¨×¢×™×•×Ÿ' :
                                                         result.type === 'mindset' ? 'ğŸ§  ××™×™× ×“×¡×˜' :
                                                         result.type === 'future-self' ? 'âœ¨ ×× ×™ ×¢×ª×™×“×™×ª' :
                                                         'ğŸ”— ××©××‘'}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                        
                        {searchQuery && searchResults.length === 0 && (
                            <div className="mt-2 card p-4 text-center">
                                <p className="text-sm text-slate-400">×œ× × ××¦××• ×ª×•×¦××•×ª ×¢×‘×•×¨ "{searchQuery}"</p>
                            </div>
                        )}
                    </div>

                    {/* TABS */}
                    <nav className="max-w-4xl mx-auto mb-8">
                        <div className="flex gap-2 justify-center flex-wrap no-scrollbar pb-2">
                            {tabs.map(tab => (
                                <div key={tab.id} className="group relative">
                                    <button 
                                        onClick={() => setActiveTab(tab.id)} 
                                        className={`flex items-center gap-1.5 px-4 py-2 rounded-full font-semibold text-sm transition-all whitespace-nowrap border ${activeTab===tab.id ? `bg-${tab.color}-500 text-white border-transparent shadow-lg` : 'bg-white/80 text-slate-500 border-slate-100 hover:border-slate-200 hover:text-slate-700 hover:bg-white'}`}
                                    >
                                        <Icon name={tab.icon} size={15} />
                                        <span>{tab.name}</span>
                                    </button>
                                    {editingTab === tab.id && (
                                        <div className="absolute top-full mt-2 left-0 card p-3 z-50 w-64 space-y-2">
                                            <input 
                                                value={tab.name} 
                                                onChange={(e) => updateTab(tab.id, 'name', e.target.value)}
                                                className="w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs"
                                                placeholder="×©× ×”×›×¨×˜×™×¡×™×™×”"
                                            />
                                            <button 
                                                onClick={() => setEditingTab(null)}
                                                className="w-full bg-emerald-500 text-white py-1.5 rounded-lg text-xs font-semibold"
                                            >
                                                ×¡×™×•× ×¢×¨×™×›×”
                                            </button>
                                        </div>
                                    )}
                                    <div className="absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity">
                                        <button 
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                setEditingTab(editingTab === tab.id ? null : tab.id);
                                            }}
                                            className="w-5 h-5 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center"
                                        >
                                            <Icon name="edit-2" size={10} />
                                        </button>
                                        <button 
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                deleteTab(tab.id);
                                            }}
                                            className="w-5 h-5 bg-rose-500 hover:bg-rose-600 text-white rounded-full flex items-center justify-center"
                                        >
                                            <Icon name="x" size={10} />
                                        </button>
                                    </div>
                                </div>
                            ))}
                            <button 
                                onClick={() => setActiveTab('tab-settings')}
                                className="flex items-center gap-1.5 px-4 py-2 rounded-full font-semibold text-sm transition-all whitespace-nowrap border bg-slate-100 text-slate-600 border-slate-200 hover:bg-slate-200"
                            >
                                <Icon name="plus" size={15} />
                                <span>× ×™×”×•×œ ×›×¨×˜×™×¡×™×•×ª</span>
                            </button>
                        </div>
                    </nav>

                    {/* QUOTES */}
                    <header className="max-w-3xl mx-auto mb-10 text-center space-y-3 animate-slide-in-up">
                        <div className="card p-5 text-center">
                            <p className="text-base md:text-lg text-slate-700 font-semibold leading-relaxed">âœ¨ "×œ×˜×™×™×œ ×‘×›×œ ×”×¢×•×œ× ×ª×•×š ×™×¦×™×¨×ª ×”×©×¤×¢×” ×•×”×¢×¦××” ×©×œ ×× ×©×™× ×œ×”×’×©×™× ××ª ×™×™×¢×•×“×." ğŸŒ</p>
                        </div>
                        <div className="inline-block bg-gradient-to-r from-pink-50 to-violet-50 border border-pink-100 px-5 py-3 rounded-2xl">
                            <p className="text-xs text-slate-500 font-medium">ğŸ”¥ "×× ×™ × ×—×•×©×”, ×˜×•×‘×”, ××§×¦×•×¢×™×ª, ××”×•×‘×”. ×©×•×•×” ×”××•×Ÿ ×›×¡×£. ×× ×™ ×”×•×œ×›×ª ×œ×§×¨××ª ×”×—×–×•×Ÿ ×©×œ×™ ×‘×‘×™×˜×—×•×Ÿ ×•×‘××•××¥." ğŸ’ª</p>
                        </div>
                    </header>

                    {/* HOME */}
                    {activeTab === 'home' && (
                        <div className="max-w-5xl mx-auto space-y-8 animate-slide-in-up">
                            <section>
                                <div className="flex items-center justify-center gap-2 mb-6"><span className="text-2xl">ğŸ†</span><h2 className="text-xl font-bold text-slate-800">×™×¢×“×™× ×œ×©× ×ª 2026</h2></div>
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                    {projects.filter(p=>p.showOnHome).map(project => {
                                        const progress = calculateProgress(project.id);
                                        return (
                                            <div key={project.id} className="card p-5 text-center">
                                                <span className="text-3xl mb-2 block animate-float">{project.emoji}</span>
                                                <h3 className="font-bold text-sm text-slate-700 mb-3 h-10 leading-tight">{project.title}</h3>
                                                <span className={`text-2xl font-extrabold bg-gradient-to-r ${project.gradient} gradient-text`}>{progress}%</span>
                                                <div className="h-1.5 bg-slate-100 rounded-full overflow-hidden mt-2">
                                                    <div className={`h-full bg-gradient-to-r ${project.gradient} rounded-full transition-all duration-1000`} style={{width:`${progress}%`}}></div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </section>

                            <div className="grid grid-cols-1 lg:grid-cols-12 gap-5">
                                <div className="lg:col-span-5 card p-5 group relative">
                                    <div className="flex items-center justify-between mb-5">
                                        <div className="flex items-center gap-2.5 flex-1">
                                            <div className="w-9 h-9 rounded-xl bg-amber-100 flex items-center justify-center"><Icon name="sun" size={18} className="text-amber-600" /></div>
                                            {editingMorningTitle ? (
                                                <div className="flex items-center gap-2 flex-1">
                                                    <input 
                                                        value={morningRitualEmoji}
                                                        onChange={(e) => setMorningRitualEmoji(e.target.value)}
                                                        className="w-12 p-1 text-center border-b-2 border-amber-300 outline-none text-sm"
                                                        placeholder="â˜€ï¸"
                                                    />
                                                    <input 
                                                        value={morningRitualTitle}
                                                        onChange={(e) => setMorningRitualTitle(e.target.value)}
                                                        className="flex-1 p-1 border-b-2 border-amber-300 outline-none text-base font-bold"
                                                        placeholder="×˜×§×¡ ×‘×•×§×¨"
                                                    />
                                                    <button 
                                                        onClick={() => setEditingMorningTitle(false)}
                                                        className="text-emerald-500 hover:text-emerald-600"
                                                    >
                                                        <Icon name="check" size={16} />
                                                    </button>
                                                </div>
                                            ) : (
                                                <h2 className="text-base font-bold text-slate-800">{morningRitualTitle} {morningRitualEmoji}</h2>
                                            )}
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <button 
                                                onClick={() => setEditingMorningTitle(!editingMorningTitle)}
                                                className="w-8 h-8 bg-blue-100 hover:bg-blue-200 rounded-lg flex items-center justify-center text-blue-600 transition-all opacity-0 group-hover:opacity-100"
                                            >
                                                <Icon name="edit-2" size={14} />
                                            </button>
                                            <button 
                                                onClick={addMorningRitualItem}
                                                className="w-8 h-8 bg-amber-100 hover:bg-amber-200 rounded-lg flex items-center justify-center text-amber-600 transition-all"
                                            >
                                                <Icon name="plus" size={16} />
                                            </button>
                                        </div>
                                    </div>
                                    <div className="space-y-2">
                                        {morningRitual.map(item => (
                                            <div key={item.id} className="flex items-center gap-3 group">
                                                <button onClick={() => toggleItem(morningRitual, setMorningRitual, item.id)} className="shrink-0">
                                                    {item.completed ? <Icon name="check-circle-2" size={18} className="text-emerald-500" /> : <Icon name="circle" size={18} className="text-slate-200" />}
                                                </button>
                                                <input 
                                                    value={item.text}
                                                    onChange={(e) => updateMorningRitualText(item.id, e.target.value)}
                                                    className={`flex-1 text-sm font-medium bg-transparent border-none outline-none ${item.completed ? 'text-slate-400 line-through' : 'text-slate-600'}`}
                                                />
                                                <button 
                                                    onClick={() => deleteMorningRitualItem(item.id)}
                                                    className="opacity-0 group-hover:opacity-100 shrink-0 w-7 h-7 bg-rose-50 hover:bg-rose-100 rounded-lg flex items-center justify-center text-rose-500 transition-all"
                                                >
                                                    <Icon name="trash-2" size={12} />
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                
                                <div className="lg:col-span-7 card p-5 group relative">
                                    <div className="flex items-center justify-between mb-5">
                                        <div className="flex items-center gap-2.5 flex-1">
                                            <div className="w-9 h-9 rounded-xl bg-violet-100 flex items-center justify-center"><Icon name="zap" size={18} className="text-violet-600" /></div>
                                            {editingGameChangersTitle ? (
                                                <div className="flex items-center gap-2 flex-1">
                                                    <input 
                                                        value={gameChangersEmoji}
                                                        onChange={(e) => setGameChangersEmoji(e.target.value)}
                                                        className="w-12 p-1 text-center border-b-2 border-violet-300 outline-none text-sm"
                                                        placeholder="âš¡"
                                                    />
                                                    <input 
                                                        value={gameChangersTitle}
                                                        onChange={(e) => setGameChangersTitle(e.target.value)}
                                                        className="flex-1 p-1 border-b-2 border-violet-300 outline-none text-base font-bold"
                                                        placeholder="GAME CHANGERS"
                                                    />
                                                    <button 
                                                        onClick={() => setEditingGameChangersTitle(false)}
                                                        className="text-emerald-500 hover:text-emerald-600"
                                                    >
                                                        <Icon name="check" size={16} />
                                                    </button>
                                                </div>
                                            ) : (
                                                <h2 className="text-base font-bold bg-gradient-to-r from-violet-600 to-pink-500 gradient-text">{gameChangersTitle} {gameChangersEmoji}</h2>
                                            )}
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <button 
                                                onClick={() => setEditingGameChangersTitle(!editingGameChangersTitle)}
                                                className="w-8 h-8 bg-blue-100 hover:bg-blue-200 rounded-lg flex items-center justify-center text-blue-600 transition-all opacity-0 group-hover:opacity-100"
                                            >
                                                <Icon name="edit-2" size={14} />
                                            </button>
                                            <button 
                                                onClick={addGameChanger}
                                                className="w-8 h-8 bg-violet-100 hover:bg-violet-200 rounded-lg flex items-center justify-center text-violet-600 transition-all"
                                            >
                                                <Icon name="plus" size={16} />
                                            </button>
                                        </div>
                                    </div>
                                    <div className="grid md:grid-cols-3 gap-3">
                                        {gameChangers.map((gc, i) => (
                                            <div key={gc.id} className="p-3.5 bg-slate-50 rounded-xl text-center border border-slate-100 relative group">
                                                <button 
                                                    onClick={() => deleteGameChanger(gc.id)}
                                                    className="absolute -top-2 -right-2 w-6 h-6 bg-rose-500 hover:bg-rose-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all"
                                                >
                                                    <Icon name="x" size={12} />
                                                </button>
                                                <div className="flex items-center justify-center gap-1 mb-2">
                                                    <Icon name="trophy" size={14} className={i===0?'text-amber-400':i===1?'text-slate-400':'text-orange-400'} />
                                                    <span className="text-[10px] font-bold text-slate-400 uppercase">#{i+1}</span>
                                                </div>
                                                <textarea 
                                                    className="bg-transparent w-full text-center font-semibold text-slate-700 outline-none resize-none placeholder:text-slate-300 text-sm min-h-[50px]" 
                                                    placeholder={gc.placeholder} 
                                                    value={gc.text} 
                                                    onChange={e => updateGameChanger(gc.id, e.target.value)} 
                                                />
                                                {gc.text.trim() && (
                                                    <button onClick={() => archiveGameChanger(gc)} className="mt-1 text-[9px] font-bold text-violet-400 hover:text-violet-600 transition-all flex items-center gap-1 mx-auto">
                                                        <Icon name="archive" size={11} /> ×©××•×¨ ×œ××¨×›×™×•×Ÿ
                                                    </button>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* TAB SETTINGS */}
                    {activeTab === 'tab-settings' && (
                        <div className="max-w-4xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div className="w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center">
                                    <Icon name="layout" size={20} className="text-slate-600" />
                                </div>
                                <div>
                                    <h2 className="text-xl font-bold text-slate-800">âš™ï¸ × ×™×”×•×œ ×›×¨×˜×™×¡×™×•×ª</h2>
                                    <p className="text-slate-400 text-[10px] mt-0.5 font-medium">×”×•×¡×¤×”, ×¢×¨×™×›×” ×•××—×™×§×” ×©×œ ×›×¨×˜×™×¡×™×•×ª</p>
                                </div>
                            </div>

                            {/* Add New Tab */}
                            <div className="card p-5 border-t-[3px] border-blue-400">
                                <div className="flex items-center gap-2 mb-4">
                                    <div className="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center">
                                        <Icon name="plus-circle" size={15} className="text-blue-600" />
                                    </div>
                                    <h2 className="text-sm font-bold text-slate-800">×›×¨×˜×™×¡×™×™×” ×—×“×©×”</h2>
                                </div>
                                <div className="space-y-2.5">
                                    <input 
                                        type="text" 
                                        value={newTabName} 
                                        onChange={e => setNewTabName(e.target.value)} 
                                        placeholder="×©× ×”×›×¨×˜×™×¡×™×™×”..." 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-blue-300 transition-all" 
                                    />
                                    <input 
                                        type="text" 
                                        value={newTabIcon} 
                                        onChange={e => setNewTabIcon(e.target.value)} 
                                        placeholder="×©× ×”××™×™×§×•×Ÿ (×œ×“×•×’××”: star)" 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-blue-300 transition-all" 
                                    />
                                    <select 
                                        value={newTabColor} 
                                        onChange={e => setNewTabColor(e.target.value)} 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-blue-300 transition-all"
                                    >
                                        <option value="violet">ğŸ’œ ×¡×’×•×œ</option>
                                        <option value="blue">ğŸ’™ ×›×—×•×œ</option>
                                        <option value="pink">ğŸ’— ×•×¨×•×“</option>
                                        <option value="emerald">ğŸ’š ×™×¨×•×§</option>
                                        <option value="indigo">ğŸ”µ ××™× ×“×™×’×•</option>
                                        <option value="amber">ğŸ§¡ ×›×ª×•×</option>
                                        <option value="red">â¤ï¸ ××“×•×</option>
                                        <option value="yellow">ğŸ’› ×¦×”×•×‘</option>
                                        <option value="rose">ğŸŒ¹ ×•×¨×“</option>
                                        <option value="cyan">ğŸ©µ ×¦×™××Ÿ</option>
                                        <option value="slate">âš« ××¤×•×¨</option>
                                    </select>
                                    <button 
                                        onClick={addTab} 
                                        className="w-full bg-blue-500 text-white py-2 rounded-xl font-semibold text-xs hover:bg-blue-600 transition-all"
                                    >
                                        ×”×•×¡×£ ×›×¨×˜×™×¡×™×™×”
                                    </button>
                                </div>
                            </div>

                            {/* Tabs List */}
                            <div className="space-y-3">
                                {tabs.map(tab => (
                                    <div key={tab.id} className="card p-4 flex items-center gap-3 group">
                                        <Icon name={tab.icon} size={20} className={`text-${tab.color}-500`} />
                                        <div className="flex-1 min-w-0">
                                            <p className="text-sm font-semibold text-slate-700">{tab.name}</p>
                                            <p className="text-xs text-slate-400">{tab.id}</p>
                                        </div>
                                        <button 
                                            onClick={() => deleteTab(tab.id)} 
                                            className="shrink-0 opacity-0 group-hover:opacity-100 w-8 h-8 rounded-lg bg-rose-50 hover:bg-rose-100 flex items-center justify-center text-rose-500 transition-all"
                                        >
                                            <Icon name="trash-2" size={14} />
                                        </button>
                                    </div>
                                ))}
                            </div>
                            
                            <div className="card p-4 text-center bg-gradient-to-r from-blue-50 to-purple-50 border-blue-100">
                                <p className="text-blue-600 font-medium text-sm">âš™ï¸ ×”×ª××™××™ ××ª ×”×“×©×‘×•×¨×“ ×‘×“×™×•×§ ×œ×¦×¨×›×™× ×©×œ×š!</p>
                            </div>
                        </div>
                    )}

                    {activeTab === 'tasks' && (
                        <div className="max-w-5xl mx-auto space-y-8 animate-slide-in-up pb-16">
                            
                            <section className="space-y-5">
                                <div className="flex items-center justify-center gap-2"><div className="w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center"><Icon name="list-todo" size={15} className="text-violet-600" /></div><h2 className="text-base font-bold text-slate-800">×¨×©×™××ª ×”××©×™××•×ª ×©×œ×™</h2></div>
                                
                                {/* New Task Card */}
                                <div className="card p-5 border-t-[3px] border-blue-400">
                                    <div className="flex items-center gap-2 mb-4"><div className="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center"><Icon name="plus" size={15} className="text-blue-600" /></div><h2 className="text-sm font-bold text-slate-800">××©×™××” ×—×“×©×”</h2></div>
                                    <div className="space-y-2.5">
                                        <input type="text" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} placeholder="×©× ×”××©×™××”..." className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-blue-300 transition-all" />
                                        <select value={newTaskDomain} onChange={e => setNewTaskDomain(e.target.value)} className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-blue-300 transition-all">
                                            {domains.map(domain => (
                                                <option key={domain.id} value={domain.value}>{domain.emoji} {domain.label}</option>
                                            ))}
                                        </select>
                                        <input type="date" value={newTaskDueDate} onChange={e => setNewTaskDueDate(e.target.value)} className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-blue-300 transition-all" />
                                        <button onClick={addNewTask} className="w-full bg-blue-500 text-white py-2 rounded-xl font-semibold text-xs hover:bg-blue-600 transition-all">×”×•×¡×£ ××©×™××”</button>
                                    </div>
                                </div>

                                {/* Task List */}
                                <div className="space-y-3">
                                    {tasks.map(task => (
                                        <div key={task.id} className={`card p-4 flex items-center gap-3 group ${task.completed ? 'opacity-60' : ''}`}>
                                            <button onClick={() => toggleTask(task.id)} className="shrink-0">
                                                {task.completed ? (
                                                    <Icon name="check-circle-2" size={20} className="text-emerald-500" />
                                                ) : (
                                                    <Icon name="circle" size={20} className="text-slate-300" />
                                                )}
                                            </button>
                                            <div className="flex-1 min-w-0">
                                                <p className={`text-sm font-semibold ${task.completed ? 'line-through text-slate-400' : 'text-slate-700'}`}>{task.text}</p>
                                                {task.dueDate && <p className="text-xs text-slate-400 mt-1">ğŸ“… {new Date(task.dueDate).toLocaleDateString('he-IL')}</p>}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            <section className="space-y-5">
                                <div className="flex items-center justify-center gap-2"><span className="text-2xl">ğŸ“‚</span><h2 className="text-base font-bold text-slate-800">×”×¤×¨×•×™×§×˜×™× ×©×œ×™</h2></div>
                                
                                {/* New Project Card */}
                                <div className="card p-5 border-t-[3px] border-violet-400">
                                    <div className="flex items-center gap-2 mb-4"><div className="w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center"><Icon name="folder-plus" size={15} className="text-violet-600" /></div><h2 className="text-sm font-bold text-slate-800">×¤×¨×•×™×§×˜ ×—×“×©</h2></div>
                                    <div className="space-y-2.5">
                                        <input type="text" value={newProjectTitle} onChange={e => setNewProjectTitle(e.target.value)} placeholder="×©× ×”×¤×¨×•×™×§×˜..." className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-violet-300 transition-all" />
                                        <input type="text" value={newProjectEmoji} onChange={e => setNewProjectEmoji(e.target.value)} placeholder="××™××•×’'×™ (×œ×“×•×’××”: ğŸ¯)" className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-violet-300 transition-all" />
                                        <select value={newProjectDomain} onChange={e => setNewProjectDomain(e.target.value)} className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-violet-300 transition-all">
                                            {domains.map(domain => (
                                                <option key={domain.id} value={domain.value}>{domain.emoji} {domain.label}</option>
                                            ))}
                                        </select>
                                        <select 
                                            value={newProjectColor} 
                                            onChange={e => setNewProjectColor(e.target.value)} 
                                            className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-violet-300 transition-all"
                                        >
                                            <option value="from-violet-500 to-purple-500">ğŸ’œ ×¡×’×•×œ</option>
                                            <option value="from-blue-500 to-cyan-500">ğŸ’™ ×›×—×•×œ</option>
                                            <option value="from-pink-500 to-rose-500">ğŸ’— ×•×¨×•×“</option>
                                            <option value="from-emerald-500 to-teal-500">ğŸ’š ×™×¨×•×§</option>
                                            <option value="from-indigo-500 to-blue-500">ğŸ”µ ××™× ×“×™×’×•</option>
                                            <option value="from-amber-500 to-orange-500">ğŸ§¡ ×›×ª×•×</option>
                                            <option value="from-red-500 to-rose-500">â¤ï¸ ××“×•×</option>
                                            <option value="from-yellow-500 to-amber-500">ğŸ’› ×¦×”×•×‘</option>
                                        </select>
                                        <input type="date" value={newProjectDueDate} onChange={e => setNewProjectDueDate(e.target.value)} className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-violet-300 transition-all" />
                                        <button onClick={addNewProject} className="w-full bg-violet-500 text-white py-2 rounded-xl font-semibold text-xs hover:bg-violet-600 transition-all">×”×•×¡×£ ×¤×¨×•×™×§×˜</button>
                                    </div>
                                </div>

                                {/* Projects List */}
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    {projects.map(project => (
                                        <div key={project.id} className="card overflow-hidden group">
                                            {/* Project Header with Color Gradient */}
                                            <div className={`bg-gradient-to-r ${project.color || 'from-violet-500 to-purple-500'} p-4 text-white`}>
                                                <div className="flex items-start justify-between mb-2">
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-2xl">{project.emoji}</span>
                                                        <h3 className="text-sm font-bold">{project.title}</h3>
                                                    </div>
                                                    <button onClick={() => deleteProject(project.id)} className="opacity-0 group-hover:opacity-100 text-white/80 hover:text-white transition-all">
                                                        <Icon name="trash-2" size={14} />
                                                    </button>
                                                </div>
                                                {project.dueDate && <p className="text-xs text-white/80">ğŸ“… {new Date(project.dueDate).toLocaleDateString('he-IL')}</p>}
                                            </div>
                                            
                                            {/* Project Content */}
                                            <div className="p-4">
                                                {/* Tasks in Project */}
                                                <div className="space-y-2 mb-3">
                                                    {tasks.filter(t => t.projectId === project.id).map(task => (
                                                        <div key={task.id} className="flex items-center gap-2 text-xs">
                                                            <button onClick={() => toggleTask(task.id)}>
                                                                {task.completed ? (
                                                                    <Icon name="check-circle-2" size={14} className="text-emerald-500" />
                                                                ) : (
                                                                    <Icon name="circle" size={14} className="text-slate-300" />
                                                                )}
                                                            </button>
                                                            <span className={task.completed ? 'line-through text-slate-400' : 'text-slate-600'}>{task.text}</span>
                                                        </div>
                                                    ))}
                                                </div>
                                                
                                                {/* Add Task to Project */}
                                                {addingTaskToProject === project.id ? (
                                                    <div className="space-y-2">
                                                        <input 
                                                            type="text" 
                                                            value={newTaskText}
                                                            onChange={e => setNewTaskText(e.target.value)}
                                                            placeholder="××©×™××” ×—×“×©×”..."
                                                            className="w-full p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none text-xs focus:border-violet-300 transition-all"
                                                            onKeyPress={(e) => {
                                                                if (e.key === 'Enter') {
                                                                    addTaskToProject(project.id);
                                                                }
                                                            }}
                                                        />
                                                        <div className="flex gap-2">
                                                            <button 
                                                                onClick={() => addTaskToProject(project.id)}
                                                                className="flex-1 bg-emerald-500 text-white py-1.5 rounded-lg text-xs font-semibold hover:bg-emerald-600 transition-all"
                                                            >
                                                                ×”×•×¡×£
                                                            </button>
                                                            <button 
                                                                onClick={() => setAddingTaskToProject(null)}
                                                                className="flex-1 bg-slate-200 text-slate-600 py-1.5 rounded-lg text-xs font-semibold hover:bg-slate-300 transition-all"
                                                            >
                                                                ×‘×™×˜×•×œ
                                                            </button>
                                                        </div>
                                                    </div>
                                                ) : (
                                                    <button 
                                                        onClick={() => setAddingTaskToProject(project.id)}
                                                        className="w-full py-2 border border-dashed border-slate-200 rounded-lg text-xs font-semibold text-slate-400 hover:border-violet-300 hover:text-violet-500 hover:bg-violet-50/50 transition-all flex items-center justify-center gap-1"
                                                    >
                                                        <Icon name="plus" size={12} />
                                                        ×”×•×¡×£ ××©×™××” ×œ×¤×¨×•×™×§×˜
                                                    </button>
                                                )}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </section>
                            
                            {/* Domain Management */}
                            <section className="space-y-5">
                                <div className="flex items-center justify-center gap-2">
                                    <div className="w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center">
                                        <Icon name="tag" size={15} className="text-indigo-600" />
                                    </div>
                                    <h2 className="text-base font-bold text-slate-800">× ×™×”×•×œ ×ª×—×•××™×</h2>
                                </div>
                                
                                {/* Add New Domain */}
                                <div className="card p-5 border-t-[3px] border-indigo-400">
                                    <div className="flex items-center gap-2 mb-4">
                                        <div className="w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center">
                                            <Icon name="plus-circle" size={15} className="text-indigo-600" />
                                        </div>
                                        <h2 className="text-sm font-bold text-slate-800">×ª×—×•× ×—×“×©</h2>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-3">
                                        <input 
                                            type="text" 
                                            value={newDomainEmoji} 
                                            onChange={e => setNewDomainEmoji(e.target.value)} 
                                            placeholder="××™××•×’'×™ (×œ×“×•×’××”: ğŸ¯)" 
                                            className="p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-indigo-300 transition-all" 
                                        />
                                        <input 
                                            type="text" 
                                            value={newDomainLabel} 
                                            onChange={e => setNewDomainLabel(e.target.value)} 
                                            placeholder="×©× ×”×ª×—×•×" 
                                            className="p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-indigo-300 transition-all" 
                                        />
                                        <button 
                                            onClick={addDomain} 
                                            className="bg-indigo-500 text-white py-2.5 rounded-xl font-semibold text-sm hover:bg-indigo-600 transition-all"
                                        >
                                            ×”×•×¡×£ ×ª×—×•×
                                        </button>
                                    </div>
                                </div>
                                
                                {/* Domains List */}
                                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                                    {domains.map(domain => (
                                        <div key={domain.id} className="card p-3 flex items-center gap-2 group">
                                            <span className="text-xl">{domain.emoji}</span>
                                            <span className="flex-1 text-sm font-semibold text-slate-700 truncate">{domain.label}</span>
                                            <button 
                                                onClick={() => deleteDomain(domain.id)} 
                                                className="opacity-0 group-hover:opacity-100 w-7 h-7 bg-rose-50 hover:bg-rose-100 rounded-lg flex items-center justify-center text-rose-500 transition-all"
                                            >
                                                <Icon name="trash-2" size={12} />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </section>
                            
                            <div className="card p-4 text-center bg-gradient-to-r from-violet-50 to-purple-50 border-violet-100">
                                <p className="text-violet-600 font-medium text-sm">âœ¨ ×›×œ ××©×™××” ×©××¡×•×× ×ª âœ“ ××§×¨×‘×ª ××•×ª×š ×œ×—×œ×•××•×ª ×©×œ×š</p>
                            </div>
                        </div>
                    )}

                    {/* SCHEDULE */}
                    {activeTab === 'schedule' && (
                        <div className="max-w-4xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5">
                                <div className="flex items-center gap-3 justify-center text-center mb-3">
                                    <div className="w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center"><Icon name="calendar-clock" size={20} className="text-amber-600" /></div>
                                    <div>
                                        <h2 className="text-xl font-bold text-slate-800">â° ×œ×•"×– ××¢×¦×™×</h2>
                                        <p className="text-slate-500 text-sm mt-1 font-medium">
                                            ×™×•× ×—××™×©×™, 12 ×‘×¤×‘×¨×•××¨ 2026
                                        </p>
                                    </div>
                                </div>
                                <div className="flex justify-center">
                                    <button onClick={saveScheduleToArchive} className="bg-violet-500 text-white px-4 py-2 rounded-xl font-semibold text-xs hover:bg-violet-600 transition-all flex items-center gap-1.5">
                                        <Icon name="archive" size={14} /> ×©××•×¨ ×œ×•"×– ×œ××¨×›×™×•×Ÿ
                                    </button>
                                </div>
                            </div>
                            <div className="card overflow-hidden">
                                {dailySchedule.map(slot => (
                                    <div key={slot.id} className="flex group hover:bg-slate-50/60 transition-all items-center border-b border-slate-50 last:border-0">
                                        <button onClick={() => toggleScheduleItem(slot.id)} className="w-12 flex items-center justify-center shrink-0 hover:bg-emerald-50 transition-all">
                                            {slot.completed ? (
                                                <Icon name="check-circle-2" size={18} className="text-emerald-500" />
                                            ) : (
                                                <Icon name="circle" size={18} className="text-slate-300" />
                                            )}
                                        </button>
                                        <div className="w-24 md:w-32 p-3 flex flex-col items-center justify-center border-l border-slate-50">
                                            <input value={slot.time} onChange={e => updateScheduleTime(slot.id, e.target.value)} className={`font-bold text-center text-[11px] bg-transparent border-none outline-none w-full ${slot.completed ? 'line-through text-slate-400' : 'text-slate-700'}`} />
                                            <div className="w-1.5 h-1.5 rounded-full mt-1" style={{backgroundColor:typeColor(slot.type)}}></div>
                                        </div>
                                        <div className="flex-1 p-3 flex flex-col gap-1">
                                            <div className="flex items-center gap-2">
                                                <input value={slot.activity} onChange={e => updateScheduleActivity(slot.id, e.target.value)} className={`flex-1 text-sm font-semibold bg-transparent border-none outline-none ${slot.completed ? 'line-through text-slate-400' : 'text-slate-700'}`} />
                                            </div>
                                            <div className="flex items-center gap-2">
                                                <span className={`text-[9px] font-bold uppercase tracking-wider shrink-0 ${slot.completed ? 'line-through text-slate-300' : 'text-slate-400'}`}>{slot.domain}</span>
                                                <input value={slot.note} onChange={e => updateScheduleNote(slot.id, e.target.value)} placeholder="×”×¢×¨×”..." className={`text-[11px] bg-transparent border-none outline-none w-full italic ${slot.completed ? 'line-through text-slate-300' : 'text-slate-400'}`} />
                                            </div>
                                        </div>
                                        <button onClick={() => deleteScheduleItem(slot.id)} className="w-10 flex items-center justify-center shrink-0 opacity-0 group-hover:opacity-100 hover:bg-rose-50 transition-all">
                                            <Icon name="trash-2" size={16} className="text-rose-400 hover:text-rose-600" />
                                        </button>
                                    </div>
                                ))}
                            </div>
                            <div className="card p-4 text-center bg-gradient-to-r from-blue-50 to-violet-50 border-blue-100">
                                <p className="text-blue-600 font-medium text-sm">ğŸ’™ ×”×œ×•"×– ×©×œ×š ×”×•× ×”××¤×” ×©×œ×š ×œ×—×•×¤×©. ×›×©×™×© ×¡×“×¨ ×‘×™×•× ×™×© ×©×§×˜ ×‘× ×©××”.</p>
                            </div>
                        </div>
                    )}

                    {/* METRICS */}
                    {activeTab === 'metrics' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div className="w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center"><Icon name="trending-up" size={20} className="text-emerald-600" /></div>
                                <div><h2 className="text-xl font-bold text-slate-800">ğŸ“Š ××“×“×™ ×”×¦×œ×—×” ×œ×¤×™ ×ª×—×•××™×</h2></div>
                            </div>
                            <div className="card overflow-hidden">
                                <table className="w-full text-right border-collapse">
                                    <thead><tr className="bg-slate-100 border-b-2 border-slate-200">
                                        <th className="p-4 text-sm font-extrabold text-slate-700 uppercase tracking-wide w-36">×ª×—×•×</th>
                                        <th className="p-4 text-sm font-extrabold text-slate-700 uppercase tracking-wide">××“×“ ×™×•××™</th>
                                        <th className="p-4 text-sm font-extrabold text-slate-700 uppercase tracking-wide">××“×“ ×©×‘×•×¢×™</th>
                                        <th className="p-4 text-sm font-extrabold text-slate-700 uppercase tracking-wide">×™×¢×“ ×—×•×“×©×™</th>
                                        <th className="p-4 w-10"></th>
                                    </tr></thead>
                                    <tbody className="divide-y divide-slate-50">
                                        {successMetrics.map(metric => (
                                            <tr key={metric.id} className="group hover:bg-slate-50/50 transition-all">
                                                <td className="p-3.5"><div className="flex items-center gap-2"><div className="w-2 h-2 rounded-full bg-gradient-to-br from-violet-400 to-pink-400"></div><input value={metric.domain} onChange={e => updateMetricField(metric.id,'domain',e.target.value)} className="font-bold text-slate-800 bg-transparent border-none outline-none w-full text-sm" /></div></td>
                                                <td className="p-3.5"><textarea value={metric.daily} onChange={e => updateMetricField(metric.id,'daily',e.target.value)} className="text-xs text-slate-600 bg-transparent border-none outline-none w-full resize-none min-h-[36px]" rows={1} /></td>
                                                <td className="p-3.5"><textarea value={metric.weekly} onChange={e => updateMetricField(metric.id,'weekly',e.target.value)} className="text-xs text-slate-600 bg-transparent border-none outline-none w-full resize-none min-h-[36px]" rows={1} /></td>
                                                <td className="p-3.5"><div className="flex items-center gap-1.5"><span className="text-amber-500 text-xs">ğŸ†</span><textarea value={metric.monthly} onChange={e => updateMetricField(metric.id,'monthly',e.target.value)} className="text-xs font-bold text-violet-600 bg-transparent border-none outline-none w-full resize-none min-h-[36px]" rows={1} /></div></td>
                                                <td className="p-3.5 text-center"><button onClick={() => removeMetricRow(metric.id)} className="opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 transition-all"><Icon name="trash-2" size={14} /></button></td>
                                            </tr>
                                        ))}
                                        <tr className="bg-slate-50/30 hover:bg-slate-50 transition-all">
                                            <td colSpan="5" className="p-3 text-center">
                                                <button onClick={addMetricRow} className="w-full py-2.5 border border-dashed border-slate-300 rounded-lg text-sm font-bold text-slate-500 hover:border-emerald-400 hover:text-emerald-600 hover:bg-emerald-50/30 transition-all flex items-center justify-center gap-2">
                                                    <Icon name="plus" size={16} /> ×”×•×¡×¤×ª ×ª×—×•×
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div className="card p-4 text-center bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-100">
                                <p className="text-emerald-600 font-medium text-sm">ğŸŒ± ×’× ××¡×¢ ×©×œ ××œ×¤×™ ×§×™×œ×•××˜×¨×™× ××ª×—×™×œ ×‘×¦×¢×“ ××—×“ ×§×˜×Ÿ</p>
                            </div>
                        </div>
                    )}

                    {/* GOALS */}
                    {activeTab === 'goals' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div><h2 className="text-xl font-bold text-slate-800">ğŸ¯ ×™×¢×“×™× ××¡×˜×¨×˜×’×™×™× ×œ×¤×™ ×ª×—×•××™×</h2></div>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {domainGoals.map(goal => (
                                    <div key={goal.id} className="card overflow-hidden flex flex-col group/goal">
                                        <div className={`h-1 bg-gradient-to-r ${goal.color}`}></div>
                                        <div className="p-4 pb-2 flex items-center gap-2.5">
                                            <span className="text-2xl animate-float">{goal.emoji}</span>
                                            <input value={goal.title} onChange={e => updateGoalTitle(goal.id, e.target.value)} className="text-sm font-bold text-slate-800 bg-transparent border-none outline-none flex-1" />
                                            <button onClick={() => removeGoal(goal.id)} className="opacity-0 group-hover/goal:opacity-100 text-slate-300 hover:text-rose-500 transition-all shrink-0">
                                                <Icon name="trash-2" size={16} />
                                            </button>
                                        </div>
                                        <div className="px-4 pb-4 space-y-3 flex-1">
                                            {goal.current && (
                                                <div className="p-2.5 bg-violet-50 rounded-lg border border-violet-100">
                                                    <label className="text-[9px] font-bold text-slate-400 uppercase tracking-wider block mb-0.5">××¦×‘ × ×•×›×—×™</label>
                                                    <input value={goal.current} onChange={e => updateGoalCurrent(goal.id, e.target.value)} className="text-xs font-bold text-violet-600 bg-transparent border-none outline-none w-full" />
                                                </div>
                                            )}
                                            <div className="space-y-2.5">
                                                {goal.points.map((point, pi) => (
                                                    <div key={point.id} className="relative pr-4 border-r-2 border-slate-100 group/point hover:border-pink-300 transition-colors">
                                                        <div className={`absolute right-[-5px] top-1 w-2 h-2 rounded-full ${pi%3===0?'bg-blue-400':pi%3===1?'bg-violet-400':'bg-emerald-400'}`}></div>
                                                        <div className="flex justify-between items-start mb-0.5">
                                                            <label className="text-[8px] font-bold text-slate-400 uppercase tracking-wider">{point.label}</label>
                                                            <button onClick={() => removeGoalPoint(goal.id, point.id)} className="opacity-0 group-hover/point:opacity-100 text-slate-300 hover:text-rose-500 transition-all"><Icon name="trash-2" size={11} /></button>
                                                        </div>
                                                        <textarea value={point.text} onChange={e => updateGoalPoint(goal.id, point.id, e.target.value)} className="text-xs font-medium text-slate-600 bg-transparent border-none outline-none w-full resize-none leading-relaxed" rows={2} />
                                                    </div>
                                                ))}
                                                <button onClick={() => addGoalPoint(goal.id)} className="w-full py-2 border border-dashed border-slate-200 rounded-lg text-[9px] font-bold text-slate-400 uppercase hover:border-pink-300 hover:text-pink-500 hover:bg-pink-50/50 transition-all flex items-center justify-center gap-1"><Icon name="plus" size={11} /> ×”×•×¡×¤×ª ×™×¢×“ × ×•×¡×£</button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            
                            {/* Add New Goal Card */}
                            <div className="card p-5 border-t-[3px] border-pink-400">
                                <div className="flex items-center gap-2 mb-4">
                                    <div className="w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center">
                                        <Icon name="plus-circle" size={15} className="text-pink-600" />
                                    </div>
                                    <h2 className="text-sm font-bold text-slate-800">×™×¢×“ ×—×“×©</h2>
                                </div>
                                <div className="space-y-2.5">
                                    <input 
                                        type="text" 
                                        value={newGoalTitle} 
                                        onChange={e => setNewGoalTitle(e.target.value)} 
                                        placeholder="×©× ×”×™×¢×“..." 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-pink-300 transition-all" 
                                    />
                                    <input 
                                        type="text" 
                                        value={newGoalEmoji} 
                                        onChange={e => setNewGoalEmoji(e.target.value)} 
                                        placeholder="××™××•×’'×™ (×œ×“×•×’××”: ğŸ¯)" 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-pink-300 transition-all" 
                                    />
                                    <select 
                                        value={newGoalColor} 
                                        onChange={e => setNewGoalColor(e.target.value)} 
                                        className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-pink-300 transition-all"
                                    >
                                        <option value="from-violet-500 to-purple-500">ğŸ’œ ×¡×’×•×œ</option>
                                        <option value="from-blue-500 to-cyan-500">ğŸ’™ ×›×—×•×œ</option>
                                        <option value="from-pink-500 to-rose-500">ğŸ’— ×•×¨×•×“</option>
                                        <option value="from-emerald-500 to-teal-500">ğŸ’š ×™×¨×•×§</option>
                                        <option value="from-indigo-500 to-blue-500">ğŸ”µ ××™× ×“×™×’×•</option>
                                        <option value="from-amber-500 to-orange-500">ğŸ§¡ ×›×ª×•×</option>
                                        <option value="from-red-500 to-rose-500">â¤ï¸ ××“×•×</option>
                                        <option value="from-yellow-500 to-amber-500">ğŸ’› ×¦×”×•×‘</option>
                                    </select>
                                    <button 
                                        onClick={addNewGoal} 
                                        className="w-full bg-pink-500 text-white py-2 rounded-xl font-semibold text-xs hover:bg-pink-600 transition-all"
                                    >
                                        ×”×•×¡×£ ×™×¢×“
                                    </button>
                                </div>
                            </div>

                            <div className="card p-4 text-center bg-gradient-to-r from-pink-50 to-purple-50 border-pink-100">
                                <p className="text-pink-600 font-medium text-sm">âœ¨ ×”×—×œ×•××•×ª ×©×œ×š ×”× ×”××¦×¤×Ÿ ×©×œ×š. ××œ ×ª×¤×¡×™×§×™ ×œ×”×××™×Ÿ ×‘×”× ×’× ×›×©×”×“×¨×š × ×¨××™×ª ××¨×•×›×”</p>
                            </div>
                        </div>
                    )}

                    {/* GANTT */}
                    {activeTab === 'gantt' && (
                        <div className="max-w-7xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            {/* Header with View Selection */}
                            <div className="card p-5">
                                <div className="flex items-center gap-3 justify-center text-center mb-4">
                                    <div><h2 className="text-xl font-bold text-slate-800">ğŸ“… ×™×•××Ÿ 2026</h2></div>
                                </div>
                                <div className="flex items-center justify-center gap-2 flex-wrap">
                                    <button onClick={() => setCalendarView('year')} className={`px-4 py-2 rounded-xl font-semibold text-xs transition-all ${calendarView === 'year' ? 'bg-cyan-500 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>×©× ×”</button>
                                    <button onClick={() => setCalendarView('month')} className={`px-4 py-2 rounded-xl font-semibold text-xs transition-all ${calendarView === 'month' ? 'bg-cyan-500 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>×—×•×“×©</button>
                                    <button onClick={() => setCalendarView('week')} className={`px-4 py-2 rounded-xl font-semibold text-xs transition-all ${calendarView === 'week' ? 'bg-cyan-500 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>×©×‘×•×¢</button>
                                    <button onClick={() => setCalendarView('day')} className={`px-4 py-2 rounded-xl font-semibold text-xs transition-all ${calendarView === 'day' ? 'bg-cyan-500 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>×™×•×</button>
                                </div>
                            </div>

                            {/* Month Navigation */}
                            {(calendarView === 'month' || calendarView === 'week') && (
                                <div className="card p-4 flex items-center justify-between">
                                    <button onClick={() => { if (currentMonth === 1) { setCurrentMonth(12); setCurrentYear(currentYear - 1); } else { setCurrentMonth(currentMonth - 1); } }} className="px-4 py-2 bg-cyan-100 hover:bg-cyan-200 rounded-xl font-semibold text-sm text-cyan-700 transition-all">
                                        <Icon name="chevron-right" size={16} />
                                    </button>
                                    <h3 className="text-lg font-bold text-slate-800">
                                        {['×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™', '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'][currentMonth - 1]} {currentYear}
                                    </h3>
                                    <button onClick={() => { if (currentMonth === 12) { setCurrentMonth(1); setCurrentYear(currentYear + 1); } else { setCurrentMonth(currentMonth + 1); } }} className="px-4 py-2 bg-cyan-100 hover:bg-cyan-200 rounded-xl font-semibold text-sm text-cyan-700 transition-all">
                                        <Icon name="chevron-left" size={16} />
                                    </button>
                                </div>
                            )}

                            {/* YEAR VIEW - All 12 months */}
                            {calendarView === 'year' && (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                                    {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(month => {
                                        const daysInMonth = getDaysInMonth(currentYear, month);
                                        const firstDay = getFirstDayOfMonth(currentYear, month);
                                        const monthName = ['×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™', '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'][month - 1];
                                        
                                        return (
                                            <div key={month} className="card p-4">
                                                <h3 className="text-sm font-bold text-slate-700 text-center mb-3">{monthName}</h3>
                                                <div className="grid grid-cols-7 gap-1 mb-1">
                                                    {['×', '×‘', '×’', '×“', '×”', '×•', '×©'].map(day => (
                                                        <div key={day} className="text-center font-bold text-slate-400 text-[9px]">{day}</div>
                                                    ))}
                                                </div>
                                                <div className="grid grid-cols-7 gap-1">
                                                    {[...Array(firstDay)].map((_, i) => (
                                                        <div key={`empty-${i}`} className="aspect-square"></div>
                                                    ))}
                                                    {[...Array(daysInMonth)].map((_, i) => {
                                                        const day = i + 1;
                                                        const dateStr = `${currentYear}-${String(month).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
                                                        const items = getItemsForDate(currentYear, month, day);
                                                        const holiday = israeliHolidays[dateStr];
                                                        const isToday = currentYear === 2026 && month === 2 && day === 12;
                                                        const dayOfWeek = getDayOfWeek(currentYear, month, day);
                                                        const isShabbat = dayOfWeek === 6;
                                                        
                                                        return (
                                                            <div
                                                                key={day}
                                                                onClick={() => {
                                                                    setSelectedDate(dateStr);
                                                                    setCalendarView('day');
                                                                    setCurrentMonth(month);
                                                                }}
                                                                className={`aspect-square text-[9px] flex items-center justify-center rounded cursor-pointer transition-all ${
                                                                    isToday ? 'bg-cyan-400 text-white font-bold' :
                                                                    isShabbat ? 'bg-blue-100 text-blue-700' :
                                                                    holiday ? 'bg-amber-100 text-amber-700' :
                                                                    items.length > 0 ? 'bg-violet-100 text-violet-700' :
                                                                    'text-slate-600 hover:bg-slate-100'
                                                                }`}
                                                            >
                                                                {day}
                                                            </div>
                                                        );
                                                    })}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            )}

                            {/* MONTH VIEW */}
                            {calendarView === 'month' && (() => {
                                const daysInMonth = getDaysInMonth(currentYear, currentMonth);
                                const firstDay = getFirstDayOfMonth(currentYear, currentMonth);
                                const monthName = ['×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™', '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'][currentMonth - 1];
                                
                                return (
                                    <div className="card p-6">
                                        <div className="grid grid-cols-7 gap-2 mb-2">
                                            {['×', '×‘', '×’', '×“', '×”', '×•', '×©'].map(day => (
                                                <div key={day} className="text-center font-bold text-slate-500 text-sm py-2">{day}</div>
                                            ))}
                                        </div>
                                        <div className="grid grid-cols-7 gap-2">
                                            {/* Empty cells before first day */}
                                            {[...Array(firstDay)].map((_, i) => (
                                                <div key={`empty-${i}`} className="aspect-square"></div>
                                            ))}
                                            {/* Days */}
                                            {[...Array(daysInMonth)].map((_, i) => {
                                                const day = i + 1;
                                                const dateStr = `${currentYear}-${String(currentMonth).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
                                                const items = getItemsForDate(currentYear, currentMonth, day);
                                                const holiday = israeliHolidays[dateStr];
                                                const isToday = currentYear === 2026 && currentMonth === 2 && day === 12;
                                                const dayOfWeek = getDayOfWeek(currentYear, currentMonth, day);
                                                const isShabbat = dayOfWeek === 6;
                                                
                                                return (
                                                    <div
                                                        key={day}
                                                        onClick={() => setSelectedDate(dateStr)}
                                                        className={`aspect-square border rounded-xl p-2 cursor-pointer transition-all hover:shadow-md ${
                                                            isToday ? 'bg-cyan-100 border-cyan-400' :
                                                            isShabbat ? 'bg-blue-50 border-blue-200' :
                                                            holiday ? 'bg-amber-50 border-amber-300' :
                                                            'bg-white border-slate-200 hover:border-cyan-300'
                                                        }`}
                                                    >
                                                        <div className="flex flex-col h-full">
                                                            <div className="text-sm font-bold text-slate-700 mb-1">{day}</div>
                                                            {holiday && <div className="text-[9px] mb-1">{holiday}</div>}
                                                            {items.length > 0 && (
                                                                <div className="flex-1 flex flex-col gap-0.5 overflow-hidden">
                                                                    {items.slice(0, 2).map(item => (
                                                                        <div key={item.id} className="text-[8px] bg-violet-100 text-violet-700 px-1 py-0.5 rounded truncate">
                                                                            {item.type === 'project' ? `ğŸ“‚ ${item.title}` : item.type === 'task' ? `âœ“ ${item.text}` : item.text}
                                                                        </div>
                                                                    ))}
                                                                    {items.length > 2 && <div className="text-[8px] text-slate-400">+{items.length - 2}</div>}
                                                                </div>
                                                            )}
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                );
                            })()}

                            {/* WEEK VIEW */}
                            {calendarView === 'week' && (
                                <div className="card p-6 overflow-x-auto">
                                    <div className="grid grid-cols-7 gap-3 min-w-[1200px]">
                                        {['×¨××©×•×Ÿ', '×©× ×™', '×©×œ×™×©×™', '×¨×‘×™×¢×™', '×—××™×©×™', '×©×™×©×™', '×©×‘×ª'].map((dayName, index) => (
                                            <div key={dayName} className={`flex flex-col ${index === 6 ? 'bg-blue-50' : 'bg-slate-50'} rounded-xl p-3 border-2 ${index === 6 ? 'border-blue-200' : 'border-slate-200'}`}>
                                                <div className="flex items-center gap-2 mb-3 pb-2 border-b-2 border-slate-200">
                                                    <div className={`w-2 h-2 rounded-full ${index === 6 ? 'bg-blue-400' : 'bg-violet-400'}`}></div>
                                                    <h4 className="font-bold text-slate-800 text-sm">{dayName}</h4>
                                                </div>
                                                <div className="space-y-2 overflow-y-auto max-h-[600px]">
                                                    {dailySchedule.map(slot => (
                                                        <div key={slot.id} className="p-2 bg-white rounded-lg border border-slate-200 shadow-sm">
                                                            <div className="text-[10px] font-bold text-slate-600 mb-1">{slot.time}</div>
                                                            <div className="text-xs font-semibold text-slate-700 leading-tight">{slot.activity}</div>
                                                            {slot.note && <div className="text-[9px] text-slate-500 italic mt-1">{slot.note}</div>}
                                                            <div className="text-[8px] text-slate-400 mt-1">{slot.domain}</div>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* DAY VIEW - Selected Date Details */}
                            {calendarView === 'day' && selectedDate && (() => {
                                const [year, month, day] = selectedDate.split('-').map(Number);
                                const items = getItemsForDate(year, month, day);
                                const holiday = israeliHolidays[selectedDate];
                                const dayOfWeek = getDayOfWeek(year, month, day);
                                const dayNames = ['×¨××©×•×Ÿ', '×©× ×™', '×©×œ×™×©×™', '×¨×‘×™×¢×™', '×—××™×©×™', '×©×™×©×™', '×©×‘×ª'];
                                
                                return (
                                    <div className="space-y-4">
                                        <div className="card p-6">
                                            <div className="text-center mb-4">
                                                <h3 className="text-2xl font-bold text-slate-800">×™×•× {dayNames[dayOfWeek]}</h3>
                                                <p className="text-slate-500">{day} {['×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™', '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'][month - 1]} {year}</p>
                                                {holiday && <p className="text-amber-600 font-bold mt-2">{holiday}</p>}
                                            </div>
                                            
                                            {/* Daily Schedule for this day */}
                                            <div className="mb-4">
                                                <h4 className="font-bold text-slate-700 mb-3">×œ×•×– ×™×•××™:</h4>
                                                <div className="space-y-2">
                                                    {dailySchedule.map(slot => (
                                                        <div key={slot.id} className="flex items-center gap-2 p-2 bg-slate-50 rounded-lg">
                                                            <span className="text-xs font-bold text-slate-600 w-24">{slot.time}</span>
                                                            <span className="text-sm text-slate-700">{slot.activity}</span>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                            
                                            {/* Tasks for this specific day */}
                                            <div>
                                                <h4 className="font-bold text-slate-700 mb-3">××©×™××•×ª ×œ×™×•× ×–×”:</h4>
                                                {items.length > 0 ? (
                                                    <div className="space-y-2">
                                                        {items.map(item => (
                                                            <div key={item.id} className="flex items-center gap-2 p-3 bg-violet-50 border border-violet-200 rounded-xl">
                                                                {item.type === 'daytask' ? (
                                                                    <>
                                                                        <button onClick={() => toggleDayTask(selectedDate, item.id)} className="shrink-0">
                                                                            {item.completed ? (
                                                                                <Icon name="check-circle-2" size={18} className="text-emerald-500" />
                                                                            ) : (
                                                                                <Icon name="circle" size={18} className="text-slate-300" />
                                                                            )}
                                                                        </button>
                                                                        <span className={`flex-1 text-sm ${item.completed ? 'line-through text-slate-400' : 'text-slate-700'}`}>{item.text}</span>
                                                                        <button onClick={() => removeDayTask(selectedDate, item.id)} className="shrink-0 text-rose-400 hover:text-rose-600">
                                                                            <Icon name="trash-2" size={14} />
                                                                        </button>
                                                                    </>
                                                                ) : (
                                                                    <span className="text-sm text-slate-700">
                                                                        {item.type === 'project' ? `ğŸ“‚ ${item.title}` : `âœ“ ${item.text}`}
                                                                    </span>
                                                                )}
                                                            </div>
                                                        ))}
                                                    </div>
                                                ) : (
                                                    <p className="text-slate-400 text-sm">××™×Ÿ ××©×™××•×ª ×œ×™×•× ×–×”</p>
                                                )}
                                                
                                                {/* Add task to day */}
                                                <div className="mt-4">
                                                    <input 
                                                        type="text"
                                                        placeholder="×”×•×¡×£ ××©×™××” ×œ×™×•× ×–×”..."
                                                        className="w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none text-sm"
                                                        onKeyPress={(e) => {
                                                            if (e.key === 'Enter' && e.target.value.trim()) {
                                                                addTaskToDate(selectedDate, e.target.value.trim());
                                                                e.target.value = '';
                                                            }
                                                        }}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <button onClick={() => setSelectedDate(null)} className="w-full py-3 bg-slate-100 hover:bg-slate-200 rounded-xl font-semibold text-sm text-slate-600 transition-all">
                                            ×—×–×¨×” ×œ×ª×¦×•×’×ª ×—×•×“×©
                                        </button>
                                    </div>
                                );
                            })()}
                            
                            {/* If no date selected in day view, show message */}
                            {calendarView === 'day' && !selectedDate && (
                                <div className="card p-8 text-center">
                                    <p className="text-slate-500 text-sm">×‘×—×¨ ×™×•× ××ª×¦×•×’×ª ×”×—×•×“×© ×›×“×™ ×œ×¨××•×ª ×¤×¨×˜×™×</p>
                                    <button onClick={() => setCalendarView('month')} className="mt-4 px-6 py-2 bg-cyan-500 text-white rounded-xl font-semibold text-sm hover:bg-cyan-600 transition-all">
                                        ×¢×‘×•×¨ ×œ×ª×¦×•×’×ª ×—×•×“×©
                                    </button>
                                </div>
                            )}

                            <div className="card p-4 text-center bg-gradient-to-r from-cyan-50 to-blue-50 border-cyan-100">
                                <p className="text-cyan-600 font-medium text-sm">ğŸ“† ×›×œ ×™×•× ×”×•× ×”×–×“×× ×•×ª ×—×“×©×” ×œ×”×ª×§×“× ×œ×¢×‘×¨ ×”×—×œ×•××•×ª ×©×œ×š</p>
                            </div>
                        </div>
                    )}

                    {/* FUTURE SELF */}
                    {activeTab === 'future-self' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div className="w-10 h-10 rounded-xl bg-rose-100 flex items-center justify-center"><Icon name="sparkles" size={20} className="text-rose-600" /></div>
                                <div><h2 className="text-xl font-bold text-slate-800">âœ¨ ×× ×™ ×”×¢×ª×™×“×™×ª</h2><p className="text-slate-400 text-[10px] mt-0.5 font-medium">×—×–×•×Ÿ, ×—×œ×•××•×ª ×•×ª×›× ×•×Ÿ ×”×¢×ª×™×“</p></div>
                            </div>

                            <div className="card p-5 border-t-[3px] border-rose-400">
                                <div className="flex items-center gap-2 mb-4">
                                    <div className="w-8 h-8 rounded-lg bg-rose-100 flex items-center justify-center"><Icon name="plus-circle" size={15} className="text-rose-600" /></div>
                                    <h2 className="text-sm font-bold text-slate-800">×›×ª×™×‘×” ×—×“×©×”</h2>
                                </div>
                                <div className="space-y-3">
                                    <textarea value={newFutureSelfText} onChange={e => setNewFutureSelfText(e.target.value)} placeholder="×›×ª×‘×™ ×›××Ÿ ××ª ×”×—×–×•×Ÿ ×©×œ×š, ×”×—×œ×•××•×ª, ×”×ª×›× ×™×•×ª... ×ª× ×™ ×œ×¢×¦××š ×œ×—×œ×•× ×‘×’×“×•×œ âœ¨" className="w-full p-3 bg-rose-50 border border-rose-200 rounded-xl outline-none text-sm resize-none focus:border-rose-300 transition-all" rows={6} />
                                    <button onClick={addFutureSelfEntry} className="w-full bg-rose-500 text-white py-2.5 rounded-xl font-semibold text-sm hover:bg-rose-600 transition-all">ğŸ’¾ ×©××•×¨ ×›×ª×™×‘×”</button>
                                </div>
                            </div>

                            {futureSelfEntries.length > 0 ? (
                                <div className="space-y-4">
                                    {futureSelfEntries.map(entry => (
                                        <div key={entry.id} className="card p-5 bg-gradient-to-br from-rose-50 to-pink-50 border-2 border-rose-200 group">
                                            <div className="flex items-start justify-between mb-3">
                                                <div className="w-3 h-3 rounded-full bg-rose-400"></div>
                                                <button onClick={() => removeFutureSelfEntry(entry.id)} className="opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 transition-all"><Icon name="trash-2" size={14} /></button>
                                            </div>
                                            <textarea value={entry.text} onChange={e => updateFutureSelfEntry(entry.id, e.target.value)} className="w-full bg-transparent border-none outline-none text-sm font-medium text-slate-700 resize-none leading-relaxed mb-3 min-h-[100px]" />
                                            <div className="flex items-center justify-between pt-3 border-t border-rose-200">
                                                <span className="text-[10px] text-slate-500">{entry.date}</span>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            ) : (
                                <div className="card p-12 text-center">
                                    <span className="text-4xl mb-4 block">âœ¨</span>
                                    <p className="text-slate-400 font-medium text-sm">×¢×“×™×™×Ÿ ××™×Ÿ ×›×ª×™×‘×•×ª</p>
                                    <p className="text-slate-300 text-xs mt-1">×”×ª×—×™×œ×™ ×œ×›×ª×•×‘ ××ª ×”×—×–×•×Ÿ ×©×œ×š ×•×”×•× ×™×™×©××¨ ×›××Ÿ</p>
                                </div>
                            )}

                            <div className="card p-4 text-center bg-gradient-to-r from-rose-50 to-pink-50 border-rose-100">
                                <p className="text-rose-600 font-medium text-sm">âœ¨ ×”×¢×ª×™×“ ×©×œ×š ××ª×—×™×œ ×¢× ×”×—×–×•×Ÿ ×©××ª ×›×•×ª×‘×ª ×”×™×•×</p>
                            </div>
                        </div>
                    )}

                    {activeTab === 'mindset' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div className="w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center"><Icon name="brain" size={20} className="text-purple-600" /></div>
                                <div><h2 className="text-xl font-bold text-slate-800">ğŸ§  ××™×™× ×“×¡×˜</h2><p className="text-slate-400 text-[10px] mt-0.5 font-medium">××¨×—×‘ ×œ×¨×™×§×•×Ÿ ×¨××©, ××—×©×‘×•×ª ×•×¨×¢×™×•× ×•×ª</p></div>
                            </div>

                            <div className="card p-5 border-t-[3px] border-purple-400">
                                <div className="flex items-center gap-2 mb-4">
                                    <div className="w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center"><Icon name="plus-circle" size={15} className="text-purple-600" /></div>
                                    <h2 className="text-sm font-bold text-slate-800">×›×ª×™×‘×” ×—×“×©×”</h2>
                                </div>
                                <div className="space-y-3">
                                    <textarea value={newMindsetText} onChange={e => setNewMindsetText(e.target.value)} placeholder="××” ×¢×•×‘×¨ ×œ×š ×‘×¨××©? ××—×©×‘×•×ª, ×¨×¢×™×•× ×•×ª, ×”×¨×”×•×¨×™×... ×ª× ×™ ×œ×›×œ ×–×” ×œ×¦××ª ×”×—×•×¦×” ğŸ§ " className="w-full p-3 bg-purple-50 border border-purple-200 rounded-xl outline-none text-sm resize-none focus:border-purple-300 transition-all" rows={6} />
                                    <button onClick={addMindsetEntry} className="w-full bg-purple-500 text-white py-2.5 rounded-xl font-semibold text-sm hover:bg-purple-600 transition-all">ğŸ’¾ ×©××•×¨ ×›×ª×™×‘×”</button>
                                </div>
                            </div>

                            {mindsetEntries.length > 0 ? (
                                <div className="space-y-4">
                                    {mindsetEntries.map(entry => (
                                        <div key={entry.id} className="card p-5 bg-gradient-to-br from-purple-50 to-violet-50 border-2 border-purple-200 group">
                                            <div className="flex items-start justify-between mb-3">
                                                <div className="w-3 h-3 rounded-full bg-purple-400"></div>
                                                <button onClick={() => removeMindsetEntry(entry.id)} className="opacity-0 group-hover:opacity-100 text-slate-400 hover:text-purple-500 transition-all"><Icon name="trash-2" size={14} /></button>
                                            </div>
                                            <textarea value={entry.text} onChange={e => updateMindsetEntry(entry.id, e.target.value)} className="w-full bg-transparent border-none outline-none text-sm font-medium text-slate-700 resize-none leading-relaxed mb-3 min-h-[100px]" />
                                            <div className="flex items-center justify-between pt-3 border-t border-purple-200">
                                                <span className="text-[10px] text-slate-500">{entry.date}</span>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            ) : (
                                <div className="card p-12 text-center">
                                    <span className="text-4xl mb-4 block">ğŸ§ </span>
                                    <p className="text-slate-400 font-medium text-sm">×¢×“×™×™×Ÿ ××™×Ÿ ×›×ª×™×‘×•×ª</p>
                                    <p className="text-slate-300 text-xs mt-1">×”×ª×—×™×œ×™ ×œ×¨×•×§×Ÿ ××ª ×”×¨××© ×•×”×›×œ ×™×™×©××¨ ×›××Ÿ</p>
                                </div>
                            )}

                            <div className="card p-4 text-center bg-gradient-to-r from-purple-50 to-violet-50 border-purple-100">
                                <p className="text-purple-600 font-medium text-sm">ğŸ§  ×œ×¤×¢××™× ×¦×¨×™×š ×¤×©×•×˜ ×œ×¨×•×§×Ÿ ××ª ×”×¨××© ×›×“×™ ×œ×¢×©×•×ª ×¡×“×¨ ×‘××—×©×‘×•×ª</p>
                            </div>
                        </div>
                    )}

                    {activeTab === 'ideas' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center gap-3 justify-center text-center">
                                <div className="w-10 h-10 rounded-xl bg-yellow-100 flex items-center justify-center"><Icon name="lightbulb" size={20} className="text-yellow-600" /></div>
                                <div><h2 className="text-xl font-bold text-slate-800">ğŸ’¡ ×¨×¢×™×•× ×•×ª</h2><p className="text-slate-400 text-[10px] mt-0.5 font-medium">×›×œ ×”×¨×¢×™×•× ×•×ª ×©×œ×š ×‘××§×•× ××—×“</p></div>
                            </div>

                            {/* Add New Idea */}
                            <div className="card p-5 border-t-[3px] border-yellow-400">
                                <div className="flex items-center gap-2 mb-4">
                                    <div className="w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center">
                                        <Icon name="plus-circle" size={15} className="text-yellow-600" />
                                    </div>
                                    <h2 className="text-sm font-bold text-slate-800">×¨×¢×™×•×Ÿ ×—×“×©</h2>
                                </div>
                                <div className="space-y-3">
                                    <textarea 
                                        value={newIdeaText}
                                        onChange={e => setNewIdeaText(e.target.value)}
                                        placeholder="×›×ª×‘×™ ××ª ×”×¨×¢×™×•×Ÿ ×©×œ×š..."
                                        className="w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm resize-none focus:border-yellow-300 transition-all"
                                        rows={3}
                                    />
                                    <div className="flex items-center gap-2 flex-wrap">
                                        <span className="text-xs font-bold text-slate-600">×‘×—×¨×™ ×¦×‘×¢:</span>
                                        <button onClick={() => setNewIdeaColor('yellow')} className={`w-10 h-10 rounded-lg bg-yellow-200 border-2 transition-all ${newIdeaColor === 'yellow' ? 'border-yellow-500 scale-110' : 'border-yellow-300'}`} title="×¦×”×•×‘"></button>
                                        <button onClick={() => setNewIdeaColor('green')} className={`w-10 h-10 rounded-lg bg-green-200 border-2 transition-all ${newIdeaColor === 'green' ? 'border-green-500 scale-110' : 'border-green-300'}`} title="×™×¨×•×§"></button>
                                        <button onClick={() => setNewIdeaColor('blue')} className={`w-10 h-10 rounded-lg bg-blue-200 border-2 transition-all ${newIdeaColor === 'blue' ? 'border-blue-500 scale-110' : 'border-blue-300'}`} title="×›×—×•×œ"></button>
                                        <button onClick={() => setNewIdeaColor('purple')} className={`w-10 h-10 rounded-lg bg-purple-200 border-2 transition-all ${newIdeaColor === 'purple' ? 'border-purple-500 scale-110' : 'border-purple-300'}`} title="×¡×’×•×œ"></button>
                                        <button onClick={() => setNewIdeaColor('pink')} className={`w-10 h-10 rounded-lg bg-pink-200 border-2 transition-all ${newIdeaColor === 'pink' ? 'border-pink-500 scale-110' : 'border-pink-300'}`} title="×•×¨×•×“"></button>
                                        <button onClick={() => setNewIdeaColor('orange')} className={`w-10 h-10 rounded-lg bg-orange-200 border-2 transition-all ${newIdeaColor === 'orange' ? 'border-orange-500 scale-110' : 'border-orange-300'}`} title="×›×ª×•×"></button>
                                        <button onClick={() => setNewIdeaColor('red')} className={`w-10 h-10 rounded-lg bg-red-200 border-2 transition-all ${newIdeaColor === 'red' ? 'border-red-500 scale-110' : 'border-red-300'}`} title="××“×•×"></button>
                                        <button onClick={() => setNewIdeaColor('gray')} className={`w-10 h-10 rounded-lg bg-gray-200 border-2 transition-all ${newIdeaColor === 'gray' ? 'border-gray-500 scale-110' : 'border-gray-300'}`} title="××¤×•×¨"></button>
                                    </div>
                                    <button onClick={addNewIdea} className="w-full bg-yellow-500 text-white py-2.5 rounded-xl font-semibold text-sm hover:bg-yellow-600 transition-all">
                                        ×”×•×¡×£ ×¨×¢×™×•×Ÿ
                                    </button>
                                </div>
                            </div>

                            {/* Filter by Color */}
                            {ideas.length > 0 && (
                                <div className="card p-4">
                                    <div className="flex items-center gap-2 flex-wrap">
                                        <span className="text-xs font-bold text-slate-600 ml-2">×¡×™× ×•×Ÿ ×œ×¤×™ ×¦×‘×¢:</span>
                                        <button onClick={() => setIdeasFilter('all')} className={`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${ideasFilter === 'all' ? 'bg-slate-700 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>
                                            ×”×›×œ ({ideas.length})
                                        </button>
                                        {['yellow', 'green', 'blue', 'purple', 'pink', 'orange', 'red', 'gray'].map(color => {
                                            const count = ideas.filter(i => i.color === color).length;
                                            if (count === 0) return null;
                                            const colorClasses = {
                                                yellow: 'bg-yellow-200 text-yellow-800 hover:bg-yellow-300',
                                                green: 'bg-green-200 text-green-800 hover:bg-green-300',
                                                blue: 'bg-blue-200 text-blue-800 hover:bg-blue-300',
                                                purple: 'bg-purple-200 text-purple-800 hover:bg-purple-300',
                                                pink: 'bg-pink-200 text-pink-800 hover:bg-pink-300',
                                                orange: 'bg-orange-200 text-orange-800 hover:bg-orange-300',
                                                red: 'bg-red-200 text-red-800 hover:bg-red-300',
                                                gray: 'bg-gray-200 text-gray-800 hover:bg-gray-300'
                                            };
                                            return (
                                                <button 
                                                    key={color}
                                                    onClick={() => setIdeasFilter(color)}
                                                    className={`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${ideasFilter === color ? 'ring-2 ring-offset-2 ring-slate-400' : ''} ${colorClasses[color]}`}
                                                >
                                                    {count}
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}

                            {/* Ideas Grid */}
                            {ideas.length > 0 ? (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    {ideas.filter(idea => ideasFilter === 'all' || idea.color === ideasFilter).map(idea => {
                                        const colorClasses = {
                                            yellow: { bg: 'bg-yellow-100', border: 'border-yellow-300', text: 'text-yellow-800', dot: 'bg-yellow-400' },
                                            green: { bg: 'bg-green-100', border: 'border-green-300', text: 'text-green-800', dot: 'bg-green-400' },
                                            blue: { bg: 'bg-blue-100', border: 'border-blue-300', text: 'text-blue-800', dot: 'bg-blue-400' },
                                            purple: { bg: 'bg-purple-100', border: 'border-purple-300', text: 'text-purple-800', dot: 'bg-purple-400' },
                                            pink: { bg: 'bg-pink-100', border: 'border-pink-300', text: 'text-pink-800', dot: 'bg-pink-400' },
                                            orange: { bg: 'bg-orange-100', border: 'border-orange-300', text: 'text-orange-800', dot: 'bg-orange-400' },
                                            red: { bg: 'bg-red-100', border: 'border-red-300', text: 'text-red-800', dot: 'bg-red-400' },
                                            gray: { bg: 'bg-gray-100', border: 'border-gray-300', text: 'text-gray-800', dot: 'bg-gray-400' }
                                        };
                                        const colors = colorClasses[idea.color];
                                        
                                        return (
                                            <div key={idea.id} className={`card ${colors.bg} border-2 ${colors.border} p-4 group`}>
                                                <div className="flex items-start justify-between mb-3">
                                                    <div className={`w-3 h-3 rounded-full ${colors.dot}`}></div>
                                                    <button onClick={() => removeIdea(idea.id)} className="opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 transition-all">
                                                        <Icon name="trash-2" size={14} />
                                                    </button>
                                                </div>
                                                <textarea
                                                    value={idea.text}
                                                    onChange={e => updateIdeaText(idea.id, e.target.value)}
                                                    className={`w-full ${colors.bg} border-none outline-none text-sm font-medium ${colors.text} resize-none leading-relaxed mb-3`}
                                                    rows={4}
                                                />
                                                <div className="flex items-center justify-between pt-3 border-t border-slate-200">
                                                    <span className="text-[10px] text-slate-500">{idea.date}</span>
                                                    <div className="flex gap-1">
                                                        {['yellow', 'green', 'blue', 'purple', 'pink', 'orange', 'red', 'gray'].map(color => (
                                                            <button
                                                                key={color}
                                                                onClick={() => updateIdeaColor(idea.id, color)}
                                                                className={`w-5 h-5 rounded-full ${colorClasses[color].dot} transition-all ${idea.color === color ? 'ring-2 ring-offset-1 ring-slate-400' : 'opacity-30 hover:opacity-70'}`}
                                                            />
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            ) : (
                                <div className="card p-12 text-center">
                                    <span className="text-4xl mb-4 block">ğŸ’¡</span>
                                    <p className="text-slate-400 font-medium text-sm">×¢×“×™×™×Ÿ ××™×Ÿ ×¨×¢×™×•× ×•×ª</p>
                                    <p className="text-slate-300 text-xs mt-1">×”×ª×—×™×œ×™ ×œ×”×•×¡×™×£ ×¨×¢×™×•× ×•×ª ×•×”× ×™×•×¤×™×¢×• ×›××Ÿ</p>
                                </div>
                            )}

                            <div className="card p-4 text-center bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-100">
                                <p className="text-yellow-700 font-medium text-sm">ğŸ’¡ ×›×œ ×¨×¢×™×•×Ÿ, ×’× ×× × ×¨××” ×§×˜×Ÿ ×¢×›×©×™×•, ×™×›×•×œ ×œ×”×¤×•×š ×œ××©×”×• ×’×“×•×œ ××—×¨</p>
                            </div>
                        </div>
                    )}

                    {/* RESOURCES */}
                    {activeTab === 'resources' && (
                        <div className="max-w-5xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="flex items-center justify-center gap-2"><span className="text-2xl">ğŸŒ</span><h2 className="text-xl font-bold text-slate-800">×¡×¤×¨×™×™×ª ×”××©××‘×™× ×©×œ×™</h2></div>
                            
                            {/* New Resource Card */}
                            <div className="card p-5 border-t-[3px] border-emerald-400">
                                <div className="flex items-center gap-2 mb-4"><div className="w-8 h-8 rounded-lg bg-emerald-100 flex items-center justify-center"><Icon name="link" size={15} className="text-emerald-600" /></div><h2 className="text-sm font-bold text-slate-800">××©××‘ ×—×“×©</h2></div>
                                <div className="space-y-2.5">
                                    <input type="text" value={newResourceTitle} onChange={e => setNewResourceTitle(e.target.value)} placeholder="×©× ×”××©××‘..." className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-emerald-300 transition-all" />
                                    <input type="text" value={newResourceUrl} onChange={e => setNewResourceUrl(e.target.value)} placeholder="×§×™×©×•×¨ URL..." className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm focus:border-emerald-300 transition-all" />
                                    <select value={newResourceDomain} onChange={e => setNewResourceDomain(e.target.value)} className="w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs font-medium cursor-pointer focus:border-emerald-300 transition-all">
                                        {domains.map(domain => (
                                            <option key={domain.id} value={domain.value}>{domain.emoji} {domain.label}</option>
                                        ))}
                                    </select>
                                    <button onClick={addNewResource} className="w-full bg-emerald-500 text-white py-2 rounded-xl font-semibold text-xs hover:bg-emerald-600 transition-all">×”×•×¡×£ ××©××‘</button>
                                </div>
                            </div>

                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                {resources.map(resource => (
                                    <div key={resource.id} className="card p-5 flex flex-col group">
                                        <div className="flex justify-between items-start mb-3">
                                            <button onClick={() => toggleResource(resource.id)} className="w-9 h-9 rounded-lg bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-400 group-hover:text-indigo-500 transition-all">
                                                {resource.completed ? <Icon name="check-circle-2" size={18} className="text-emerald-500" /> : <Icon name="link" size={18} />}
                                            </button>
                                            <div className="flex items-center gap-2">
                                                <span className="text-xl animate-float">{resource.emoji}</span>
                                                <button onClick={() => deleteResource(resource.id)} className="opacity-0 group-hover:opacity-100 w-7 h-7 rounded-lg bg-rose-50 hover:bg-rose-100 flex items-center justify-center text-rose-500 transition-all">
                                                    <Icon name="trash-2" size={14} />
                                                </button>
                                            </div>
                                        </div>
                                        <h3 className={`text-sm font-bold mb-3 leading-relaxed ${resource.completed?'text-slate-400 line-through':'text-slate-700'}`}>{resource.title}</h3>
                                        <div className="mt-auto pt-3 border-t border-slate-50">
                                            <a href={resource.url} target="_blank" rel="noopener noreferrer" className="flex items-center gap-1.5 text-indigo-500 font-semibold text-xs hover:text-indigo-700 transition-colors"><Icon name="external-link" size={13} />×¤×ª×— ××©××‘</a>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            
                            <div className="card p-4 text-center bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-100">
                                <p className="text-emerald-600 font-medium text-sm">ğŸŒ ×”×™×“×¢ ×©××ª ××•×¡×¤×ª ×”×™×•× ×”×•× ×”×›×•×— ×©×œ×š ×œ××—×¨</p>
                            </div>
                        </div>
                    )}

                    {/* ARCHIVE */}
                    {activeTab === 'archive' && (
                        <div className="max-w-4xl mx-auto space-y-6 animate-slide-in-up pb-16">
                            <div className="card p-5 flex items-center justify-between flex-wrap gap-3">
                                <div className="flex items-center gap-3">
                                    <div className="w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center"><Icon name="trash-2" size={20} className="text-slate-600" /></div>
                                    <div>
                                        <h2 className="text-xl font-bold text-slate-800">ğŸ—‘ï¸ ×¡×œ ××—×–×•×¨</h2>
                                        <p className="text-slate-400 text-[10px] mt-0.5 font-medium">×›×œ ×”×¤×¨×™×˜×™× ×©× ××—×§×• - × ×™×ª×Ÿ ×œ×©×—×–×¨ ××• ×œ××—×•×§ ×œ×¦××™×ª×•×ª</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3">
                                    <span className="text-xs font-bold text-slate-400 bg-slate-100 px-3 py-1 rounded-full">{archive.length} ×¤×¨×™×˜×™×</span>
                                    {archive.length > 0 && (
                                        <button onClick={clearArchive} className="text-xs font-semibold text-rose-400 hover:text-rose-600 transition-all flex items-center gap-1">
                                            <Icon name="trash-2" size={13} /> ×¨×•×§×Ÿ ×¡×œ ××—×–×•×¨
                                        </button>
                                    )}
                                </div>
                            </div>

                            {archive.length === 0 ? (
                                <div className="card p-12 text-center">
                                    <span className="text-4xl mb-4 block">ğŸ—‘ï¸</span>
                                    <p className="text-slate-400 font-medium text-sm">×¡×œ ×”××—×–×•×¨ ×¨×™×§</p>
                                    <p className="text-slate-300 text-xs mt-1">×¤×¨×™×˜×™× ×©× ××—×§×™× ×™×•×¤×™×¢×• ×›××Ÿ ×•×™×”×™×” × ×™×ª×Ÿ ×œ×©×—×–×¨ ××•×ª×</p>
                                </div>
                            ) : (
                                <div className="space-y-2">
                                    {archive.map(item => (
                                        item.type === 'schedule' ? (
                                            <div key={item.id} className="card p-4">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className="w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-amber-100">
                                                        <Icon name="calendar-clock" size={15} className="text-amber-600" />
                                                    </div>
                                                    <div className="flex-1 min-w-0">
                                                        <p className="text-sm font-semibold text-slate-700">{item.text}</p>
                                                        <div className="flex items-center gap-2 mt-0.5">
                                                            <span className="pill bg-amber-100 text-amber-600">â° ×œ×•"×– ×™×•××™</span>
                                                        </div>
                                                    </div>
                                                    <button onClick={() => setArchive(prev => prev.filter(a => a.id !== item.id))} className="shrink-0 px-3 py-1.5 bg-rose-500 hover:bg-rose-600 text-white rounded-lg text-xs font-semibold transition-all flex items-center gap-1">
                                                        <Icon name="trash-2" size={12} />
                                                        ××—×§
                                                    </button>
                                                    <div className="text-left shrink-0">
                                                        <p className="text-[10px] font-bold text-slate-400">{item.date}</p>
                                                        <p className="text-[10px] text-slate-300">{item.time}</p>
                                                    </div>
                                                </div>
                                                <div className="pr-4 border-r-2 border-amber-200 space-y-1.5">
                                                    {item.scheduleData?.map(slot => (
                                                        <div key={slot.id} className="flex items-center gap-2 text-xs">
                                                            {slot.completed ? (
                                                                <Icon name="check-circle-2" size={12} className="text-emerald-500 shrink-0" />
                                                            ) : (
                                                                <Icon name="circle" size={12} className="text-slate-300 shrink-0" />
                                                            )}
                                                            <span className="font-bold text-slate-500 w-20 shrink-0">{slot.time}</span>
                                                            <span className={`flex-1 ${slot.completed ? 'line-through text-slate-400' : 'text-slate-600'}`}>{slot.activity}</span>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ) : (
                                            <div key={item.id} className="card p-4 flex items-center gap-3">
                                                <div className={`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${
                                                    item.type === 'gamechanger' ? 'bg-violet-100' : 
                                                    item.type === 'resource' ? 'bg-indigo-100' : 
                                                    item.type === 'project' ? 'bg-purple-100' : 
                                                    item.type === 'idea' ? 'bg-yellow-100' : 
                                                    'bg-emerald-100'
                                                }`}>
                                                    <Icon name={
                                                        item.type === 'gamechanger' ? 'zap' : 
                                                        item.type === 'resource' ? 'link' : 
                                                        item.type === 'project' ? 'folder' : 
                                                        item.type === 'idea' ? 'lightbulb' : 
                                                        'check'
                                                    } size={15} className={
                                                        item.type === 'gamechanger' ? 'text-violet-600' : 
                                                        item.type === 'resource' ? 'text-indigo-600' : 
                                                        item.type === 'project' ? 'text-purple-600' : 
                                                        item.type === 'idea' ? 'text-yellow-600' : 
                                                        'text-emerald-600'
                                                    } />
                                                </div>
                                                <div className="flex-1 min-w-0">
                                                    <p className="text-sm font-semibold text-slate-700 truncate">{item.text}</p>
                                                    <div className="flex items-center gap-2 mt-0.5">
                                                        <span className={`pill ${
                                                            item.type === 'gamechanger' ? 'bg-violet-100 text-violet-600' : 
                                                            item.type === 'resource' ? 'bg-indigo-100 text-indigo-600' : 
                                                            item.type === 'project' ? 'bg-purple-100 text-purple-600' : 
                                                            item.type === 'idea' ? 'bg-yellow-100 text-yellow-600' : 
                                                            'bg-emerald-100 text-emerald-600'
                                                        }`}>
                                                            {item.type === 'gamechanger' ? 'âš¡ Game Changer' : 
                                                             item.type === 'resource' ? 'ğŸ”— ××©××‘' : 
                                                             item.type === 'project' ? 'ğŸ“‚ ×¤×¨×•×™×§×˜' : 
                                                             item.type === 'idea' ? 'ğŸ’¡ ×¨×¢×™×•×Ÿ' : 
                                                             'âœ… ××©×™××”'}
                                                        </span>
                                                    </div>
                                                </div>
                                                <button onClick={() => restoreFromArchive(item)} className="shrink-0 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-xs font-semibold transition-all flex items-center gap-1">
                                                    <Icon name="undo-2" size={12} />
                                                    ×©×—×–×¨
                                                </button>
                                                <button onClick={() => setArchive(prev => prev.filter(a => a.id !== item.id))} className="shrink-0 px-2 py-1.5 bg-rose-100 hover:bg-rose-200 text-rose-600 rounded-lg text-xs font-semibold transition-all">
                                                    <Icon name="x" size={12} />
                                                </button>
                                                <div className="text-left shrink-0">
                                                    <p className="text-[10px] font-bold text-slate-400">{item.date}</p>
                                                    <p className="text-[10px] text-slate-300">{item.time}</p>
                                                </div>
                                            </div>
                                        )
                                    ))}
                                </div>
                            )}
                            
                            <div className="card p-4 text-center bg-gradient-to-r from-slate-50 to-gray-50 border-slate-100">
                                <p className="text-slate-600 font-medium text-sm">ğŸ—‘ï¸ ×œ×¤×¢××™× ×¦×¨×™×š ×œ×©×—×¨×¨ ×›×“×™ ×œ×”×ª×§×“×, ××‘×œ ×ª××™×“ ××¤×©×¨ ×œ×©×—×–×¨ ××” ×©× ×“×¨×©</p>
                            </div>
                        </div>
                    )}

                    {/* FOOTER */}
                    <footer className="max-w-5xl mx-auto mt-14 pt-6 border-t border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 text-slate-400 pb-8">
                        <div className="flex items-center gap-2.5">
                            <div className="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center text-[9px] font-bold text-white">Me</div>
                            <span className="text-sm font-medium italic text-slate-400">"×”×›×œ ××ª×—×™×œ ××‘×¤× ×™× ×”×—×•×¦×”." âœ¨</span>
                        </div>
                        <div className="font-medium flex items-center gap-2 text-slate-400 bg-white/80 px-3.5 py-1.5 rounded-full border border-slate-100 text-[11px]">
                            <Icon name="calendar" size={13} className="text-violet-400" />
                            12 ×‘×¤×‘×¨×•××¨ 2026
                        </div>
                    </footer>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
